import{A as d}from"./index-e0c3bc23.js";var a,f=new Uint8Array(16);function p(){if(!a&&(a=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!a))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return a(f)}const m=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function c(t){return typeof t=="string"&&m.test(t)}var n=[];for(var u=0;u<256;++u)n.push((u+256).toString(16).substr(1));function y(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=(n[t[e+0]]+n[t[e+1]]+n[t[e+2]]+n[t[e+3]]+"-"+n[t[e+4]]+n[t[e+5]]+"-"+n[t[e+6]]+n[t[e+7]]+"-"+n[t[e+8]]+n[t[e+9]]+"-"+n[t[e+10]]+n[t[e+11]]+n[t[e+12]]+n[t[e+13]]+n[t[e+14]]+n[t[e+15]]).toLowerCase();if(!c(o))throw TypeError("Stringified UUID is invalid");return o}function g(t,e,o){t=t||{};var s=t.random||(t.rng||p)();if(s[6]=s[6]&15|64,s[8]=s[8]&63|128,e){o=o||0;for(var i=0;i<16;++i)e[o+i]=s[i];return e}return y(s)}const r=d([]),l=t=>{r.update(e=>e.filter(o=>o.id!==t))},v=async(t,e)=>{setTimeout(()=>{l(t)},e+400),await new Promise(o=>setTimeout(o,e+400))},h=async(t,e)=>{let o;t.id?o=t:o={message:t.message,type:t.type,id:g()},r.update(s=>(s.push(o),s)),e&&await v(o.id,e)},x=()=>{r.set([])};export{l as a,x as d,r as n,h as s};
