import{A as s}from"./index-e0c3bc23.js";import{d as r}from"./db-01dc6224.js";const n=async()=>{try{const e=await r.settings.toArray();return e.length===1?{type:"data",settings:e[0]}:e.length===0?{type:"error",error:{title:"Keine Einstellungen gefunden.",description:"Bitte setzen Sie die Einstellungen zur\xFCck. Dies wird Ihre Aufgabendaten nicht ver\xE4ndern oder l\xF6schen.",code:"object/notfound"}}:{type:"error",error:{title:"Keine Einstellungen gefunden.",description:"Bitte setzen Sie die Einstellungen zur\xFCck. Dies wird Ihre Aufgabendaten nicht ver\xE4ndern oder l\xF6schen.",code:"object/notfound"}}}catch{return{type:"error",error:{title:"Error",description:"An error occured while fetching the settings."}}}},o=async e=>{try{const t=await n();return t.type==="data"?(await r.settings.update(t.settings,e),{type:"ok"}):t}catch{return{type:"error",error:{title:"Error",description:"An error occured while setting the settings."}}}},c=async e=>{try{return await o({theme:e?"dark":"light"}),{type:"ok"}}catch{return{type:"error",error:{title:"Error",description:"An error occured while setting the settings."}}}},i=s("light");n().then(e=>{e.type==="data"&&i.set(e.settings.theme)});i.subscribe(e=>{c(e==="dark")});export{n as g,i as t};
