import{S as ie,i as se,s as re,k as B,q as W,l as V,m as C,r as Y,h,b as A,I as P,u as nt,H as ee,a as X,T as st,c as $,n as z,P as F,Q as y,v as H,w as Z,x as G,U as j,f as v,t as E,y as K,g as fe,d as ue,N as ke,e as ne,J as le,M as ve,B as je,C as ft,D as ut,E as Me,F as dt,G as ot,o as pe,a1 as De,_ as ct}from"../../../../../../../chunks/index-e0c3bc23.js";import{b as ht,p as _t}from"../../../../../../../chunks/stores-fc531b9e.js";import{c as mt,d as gt,b as bt,e as kt,f as ye}from"../../../../../../../chunks/fetchDisplayData-17482217.js";import{p as pt}from"../../../../../../../chunks/stores-47ddb097.js";import{k as Tt}from"../../../../../../../chunks/dndmathfraction.svelte_svelte_type_style_lang-90be0157.js";import{B as Ie,S as lt}from"../../../../../../../chunks/sidemargincontainer-3e06a851.js";import{B as Ee}from"../../../../../../../chunks/badge-326699bd.js";import{M as Ne}from"../../../../../../../chunks/MediaQuery-f7237b28.js";import{d as me}from"../../../../../../../chunks/db-6dba99b9.js";import{I as St}from"../../../../../../../chunks/IconBase-a7e75a12.js";import{E as vt}from"../../../../../../../chunks/errorpage-d41fb4bf.js";import"../../../../../../../chunks/singletons-f0febded.js";/* empty css                                                                         */function It(n){let e,t=n[0].text+"",l;return{c(){e=B("span"),l=W(t)},l(i){e=V(i,"SPAN",{});var f=C(e);l=Y(f,t),f.forEach(h)},m(i,f){A(i,e,f),P(e,l)},p(i,[f]){f&1&&t!==(t=i[0].text+"")&&nt(l,t)},i:ee,o:ee,d(i){i&&h(e)}}}function wt(n,e,t){let{smallText:l=!1}=e,{data:i}=e;return n.$$set=f=>{"smallText"in f&&t(1,l=f.smallText),"data"in f&&t(0,i=f.data)},[i,l]}class Ae extends ie{constructor(e){super(),se(this,e,wt,It,re,{smallText:1,data:0})}}function Ft(n){let e,t,l,i;return{c(){e=B("link"),t=X(),l=B("div"),this.h()},l(f){const r=st('[data-svelte="svelte-r30au3"]',document.head);e=V(r,"LINK",{rel:!0,href:!0,integrity:!0,crossorigin:!0}),r.forEach(h),t=$(f),l=V(f,"DIV",{style:!0});var s=C(l);s.forEach(h),this.h()},h(){z(e,"rel","stylesheet"),z(e,"href","https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css"),z(e,"integrity","sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X"),z(e,"crossorigin","anonymous"),z(l,"style",i=n[0]?"font-size: 1rem !important; line-height: 1.5rem !important;":"")},m(f,r){P(document.head,e),A(f,t,r),A(f,l,r),l.innerHTML=n[1]},p(f,[r]){r&2&&(l.innerHTML=f[1]),r&1&&i!==(i=f[0]?"font-size: 1rem !important; line-height: 1.5rem !important;":"")&&z(l,"style",i)},i:ee,o:ee,d(f){h(e),f&&h(t),f&&h(l)}}}function yt(n,e,t){let l,{math:i}=e,{displayMode:f=!1}=e,{smallText:r=!1}=e;const s={displayMode:f,throwOnError:!1};return n.$$set=a=>{"math"in a&&t(2,i=a.math),"displayMode"in a&&t(3,f=a.displayMode),"smallText"in a&&t(0,r=a.smallText)},n.$$.update=()=>{n.$$.dirty&4&&t(1,l=Tt.renderToString(i,s))},[r,l,i,f]}class we extends ie{constructor(e){super(),se(this,e,yt,Ft,re,{math:2,displayMode:3,smallText:0})}}function jt(n){let e,t,l,i;function f(a){n[2](a)}function r(a){n[3](a)}let s={};return n[0].math!==void 0&&(s.math=n[0].math),n[1]!==void 0&&(s.smallText=n[1]),e=new we({props:s}),F.push(()=>y(e,"math",f)),F.push(()=>y(e,"smallText",r)),{c(){H(e.$$.fragment)},l(a){Z(e.$$.fragment,a)},m(a,u){G(e,a,u),i=!0},p(a,[u]){const o={};!t&&u&1&&(t=!0,o.math=a[0].math,j(()=>t=!1)),!l&&u&2&&(l=!0,o.smallText=a[1],j(()=>l=!1)),e.$set(o)},i(a){i||(v(e.$$.fragment,a),i=!0)},o(a){E(e.$$.fragment,a),i=!1},d(a){K(e,a)}}}function Dt(n,e,t){let{data:l}=e,{smallText:i=!1}=e;function f(s){n.$$.not_equal(l.math,s)&&(l.math=s,t(0,l))}function r(s){i=s,t(1,i)}return n.$$set=s=>{"data"in s&&t(0,l=s.data),"smallText"in s&&t(1,i=s.smallText)},[l,i,f,r]}class Fe extends ie{constructor(e){super(),se(this,e,Dt,jt,re,{data:0,smallText:1})}}function Et(n){let e;return{c(){e=B("br")},l(t){e=V(t,"BR",{})},m(t,l){A(t,e,l)},p:ee,i:ee,o:ee,d(t){t&&h(e)}}}function Nt(n,e,t){let{data:l}=e,{smallText:i=!1}=e;return n.$$set=f=>{"data"in f&&t(0,l=f.data),"smallText"in f&&t(1,i=f.smallText)},[l,i]}class ze extends ie{constructor(e){super(),se(this,e,Nt,Et,re,{data:0,smallText:1})}}function At(n){let e,t,l,i;function f(a){n[2](a)}function r(a){n[3](a)}let s={displayMode:!0};return n[0].math!==void 0&&(s.math=n[0].math),n[1]!==void 0&&(s.smallText=n[1]),e=new we({props:s}),F.push(()=>y(e,"math",f)),F.push(()=>y(e,"smallText",r)),{c(){H(e.$$.fragment)},l(a){Z(e.$$.fragment,a)},m(a,u){G(e,a,u),i=!0},p(a,[u]){const o={};!t&&u&1&&(t=!0,o.math=a[0].math,j(()=>t=!1)),!l&&u&2&&(l=!0,o.smallText=a[1],j(()=>l=!1)),e.$set(o)},i(a){i||(v(e.$$.fragment,a),i=!0)},o(a){E(e.$$.fragment,a),i=!1},d(a){K(e,a)}}}function zt(n,e,t){let{data:l}=e,{smallText:i=!1}=e;function f(s){n.$$.not_equal(l.math,s)&&(l.math=s,t(0,l))}function r(s){i=s,t(1,i)}return n.$$set=s=>{"data"in s&&t(0,l=s.data),"smallText"in s&&t(1,i=s.smallText)},[l,i,f,r]}class rt extends ie{constructor(e){super(),se(this,e,zt,At,re,{data:0,smallText:1})}}function Be(n,e,t){const l=n.slice();return l[5]=e[t],l}function Mt(n){let e,t,l;function i(r){n[4](r)}let f={data:n[5]};return n[0]!==void 0&&(f.smallText=n[0]),e=new ze({props:f}),F.push(()=>y(e,"smallText",i)),{c(){H(e.$$.fragment)},l(r){Z(e.$$.fragment,r)},m(r,s){G(e,r,s),l=!0},p(r,s){const a={};s&2&&(a.data=r[5]),!t&&s&1&&(t=!0,a.smallText=r[0],j(()=>t=!1)),e.$set(a)},i(r){l||(v(e.$$.fragment,r),l=!0)},o(r){E(e.$$.fragment,r),l=!1},d(r){K(e,r)}}}function Bt(n){let e,t,l;function i(r){n[3](r)}let f={data:n[5]};return n[0]!==void 0&&(f.smallText=n[0]),e=new Fe({props:f}),F.push(()=>y(e,"smallText",i)),{c(){H(e.$$.fragment)},l(r){Z(e.$$.fragment,r)},m(r,s){G(e,r,s),l=!0},p(r,s){const a={};s&2&&(a.data=r[5]),!t&&s&1&&(t=!0,a.smallText=r[0],j(()=>t=!1)),e.$set(a)},i(r){l||(v(e.$$.fragment,r),l=!0)},o(r){E(e.$$.fragment,r),l=!1},d(r){K(e,r)}}}function Vt(n){let e,t,l;function i(r){n[2](r)}let f={data:n[5]};return n[0]!==void 0&&(f.smallText=n[0]),e=new Ae({props:f}),F.push(()=>y(e,"smallText",i)),{c(){H(e.$$.fragment)},l(r){Z(e.$$.fragment,r)},m(r,s){G(e,r,s),l=!0},p(r,s){const a={};s&2&&(a.data=r[5]),!t&&s&1&&(t=!0,a.smallText=r[0],j(()=>t=!1)),e.$set(a)},i(r){l||(v(e.$$.fragment,r),l=!0)},o(r){E(e.$$.fragment,r),l=!1},d(r){K(e,r)}}}function Ve(n){let e,t,l,i;const f=[Vt,Bt,Mt],r=[];function s(a,u){return a[5].type==="plainText"?0:a[5].type==="mathText"?1:a[5].type==="lineBreak"?2:-1}return~(e=s(n))&&(t=r[e]=f[e](n)),{c(){t&&t.c(),l=ne()},l(a){t&&t.l(a),l=ne()},m(a,u){~e&&r[e].m(a,u),A(a,l,u),i=!0},p(a,u){let o=e;e=s(a),e===o?~e&&r[e].p(a,u):(t&&(fe(),E(r[o],1,1,()=>{r[o]=null}),ue()),~e?(t=r[e],t?t.p(a,u):(t=r[e]=f[e](a),t.c()),v(t,1),t.m(l.parentNode,l)):t=null)},i(a){i||(v(t),i=!0)},o(a){E(t),i=!1},d(a){~e&&r[e].d(a),a&&h(l)}}}function qt(n){let e,t,l=n[1].data,i=[];for(let r=0;r<l.length;r+=1)i[r]=Ve(Be(n,l,r));const f=r=>E(i[r],1,1,()=>{i[r]=null});return{c(){e=B("p");for(let r=0;r<i.length;r+=1)i[r].c()},l(r){e=V(r,"P",{});var s=C(e);for(let a=0;a<i.length;a+=1)i[a].l(s);s.forEach(h)},m(r,s){A(r,e,s);for(let a=0;a<i.length;a+=1)i[a].m(e,null);t=!0},p(r,[s]){if(s&3){l=r[1].data;let a;for(a=0;a<l.length;a+=1){const u=Be(r,l,a);i[a]?(i[a].p(u,s),v(i[a],1)):(i[a]=Ve(u),i[a].c(),v(i[a],1),i[a].m(e,null))}for(fe(),a=l.length;a<i.length;a+=1)f(a);ue()}},i(r){if(!t){for(let s=0;s<l.length;s+=1)v(i[s]);t=!0}},o(r){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)E(i[s]);t=!1},d(r){r&&h(e),ke(i,r)}}}function Ct(n,e,t){let{data:l}=e,{smallText:i=!1}=e;function f(a){i=a,t(0,i)}function r(a){i=a,t(0,i)}function s(a){i=a,t(0,i)}return n.$$set=a=>{"data"in a&&t(1,l=a.data),"smallText"in a&&t(0,i=a.smallText)},[i,l,f,r,s]}class at extends ie{constructor(e){super(),se(this,e,Ct,qt,re,{data:1,smallText:0})}}function qe(n,e,t){const l=n.slice();return l[9]=e[t],l}function Ot(n){let e,t,l;function i(r){n[8](r)}let f={data:n[9]};return n[0]!==void 0&&(f.smallText=n[0]),e=new at({props:f}),F.push(()=>y(e,"smallText",i)),{c(){H(e.$$.fragment)},l(r){Z(e.$$.fragment,r)},m(r,s){G(e,r,s),l=!0},p(r,s){const a={};s&2&&(a.data=r[9]),!t&&s&1&&(t=!0,a.smallText=r[0],j(()=>t=!1)),e.$set(a)},i(r){l||(v(e.$$.fragment,r),l=!0)},o(r){E(e.$$.fragment,r),l=!1},d(r){K(e,r)}}}function Pt(n){let e,t,l,i;const f=[Gt,Zt],r=[];function s(a,u){return a[2]?0:1}return e=s(n),t=r[e]=f[e](n),{c(){t.c(),l=ne()},l(a){t.l(a),l=ne()},m(a,u){r[e].m(a,u),A(a,l,u),i=!0},p(a,u){let o=e;e=s(a),e===o?r[e].p(a,u):(fe(),E(r[o],1,1,()=>{r[o]=null}),ue(),t=r[e],t?t.p(a,u):(t=r[e]=f[e](a),t.c()),v(t,1),t.m(l.parentNode,l))},i(a){i||(v(t),i=!0)},o(a){E(t),i=!1},d(a){r[e].d(a),a&&h(l)}}}function Ut(n){let e,t,l;function i(r){n[5](r)}let f={data:n[9]};return n[0]!==void 0&&(f.smallText=n[0]),e=new ze({props:f}),F.push(()=>y(e,"smallText",i)),{c(){H(e.$$.fragment)},l(r){Z(e.$$.fragment,r)},m(r,s){G(e,r,s),l=!0},p(r,s){const a={};s&2&&(a.data=r[9]),!t&&s&1&&(t=!0,a.smallText=r[0],j(()=>t=!1)),e.$set(a)},i(r){l||(v(e.$$.fragment,r),l=!0)},o(r){E(e.$$.fragment,r),l=!1},d(r){K(e,r)}}}function Lt(n){let e,t,l;function i(r){n[4](r)}let f={data:n[9]};return n[0]!==void 0&&(f.smallText=n[0]),e=new Fe({props:f}),F.push(()=>y(e,"smallText",i)),{c(){H(e.$$.fragment)},l(r){Z(e.$$.fragment,r)},m(r,s){G(e,r,s),l=!0},p(r,s){const a={};s&2&&(a.data=r[9]),!t&&s&1&&(t=!0,a.smallText=r[0],j(()=>t=!1)),e.$set(a)},i(r){l||(v(e.$$.fragment,r),l=!0)},o(r){E(e.$$.fragment,r),l=!1},d(r){K(e,r)}}}function Ht(n){let e,t,l;function i(r){n[3](r)}let f={data:n[9]};return n[0]!==void 0&&(f.smallText=n[0]),e=new Ae({props:f}),F.push(()=>y(e,"smallText",i)),{c(){H(e.$$.fragment)},l(r){Z(e.$$.fragment,r)},m(r,s){G(e,r,s),l=!0},p(r,s){const a={};s&2&&(a.data=r[9]),!t&&s&1&&(t=!0,a.smallText=r[0],j(()=>t=!1)),e.$set(a)},i(r){l||(v(e.$$.fragment,r),l=!0)},o(r){E(e.$$.fragment,r),l=!1},d(r){K(e,r)}}}function Zt(n){let e,t,l;function i(r){n[7](r)}let f={data:n[9]};return n[0]!==void 0&&(f.smallText=n[0]),e=new rt({props:f}),F.push(()=>y(e,"smallText",i)),{c(){H(e.$$.fragment)},l(r){Z(e.$$.fragment,r)},m(r,s){G(e,r,s),l=!0},p(r,s){const a={};s&2&&(a.data=r[9]),!t&&s&1&&(t=!0,a.smallText=r[0],j(()=>t=!1)),e.$set(a)},i(r){l||(v(e.$$.fragment,r),l=!0)},o(r){E(e.$$.fragment,r),l=!1},d(r){K(e,r)}}}function Gt(n){let e,t,l;function i(r){n[6](r)}let f={data:{type:"mathText",math:n[9].math}};return n[0]!==void 0&&(f.smallText=n[0]),e=new Fe({props:f}),F.push(()=>y(e,"smallText",i)),{c(){H(e.$$.fragment)},l(r){Z(e.$$.fragment,r)},m(r,s){G(e,r,s),l=!0},p(r,s){const a={};s&2&&(a.data={type:"mathText",math:r[9].math}),!t&&s&1&&(t=!0,a.smallText=r[0],j(()=>t=!1)),e.$set(a)},i(r){l||(v(e.$$.fragment,r),l=!0)},o(r){E(e.$$.fragment,r),l=!1},d(r){K(e,r)}}}function Ce(n){let e,t,l,i;const f=[Ht,Lt,Ut,Pt,Ot],r=[];function s(a,u){return a[9].type==="plainText"?0:a[9].type==="mathText"?1:a[9].type==="lineBreak"?2:a[9].type==="mathDisplay"?3:a[9].type==="paragraph"?4:-1}return~(e=s(n))&&(t=r[e]=f[e](n)),{c(){t&&t.c(),l=ne()},l(a){t&&t.l(a),l=ne()},m(a,u){~e&&r[e].m(a,u),A(a,l,u),i=!0},p(a,u){let o=e;e=s(a),e===o?~e&&r[e].p(a,u):(t&&(fe(),E(r[o],1,1,()=>{r[o]=null}),ue()),~e?(t=r[e],t?t.p(a,u):(t=r[e]=f[e](a),t.c()),v(t,1),t.m(l.parentNode,l)):t=null)},i(a){i||(v(t),i=!0)},o(a){E(t),i=!1},d(a){~e&&r[e].d(a),a&&h(l)}}}function Kt(n){let e,t,l=n[1],i=[];for(let r=0;r<l.length;r+=1)i[r]=Ce(qe(n,l,r));const f=r=>E(i[r],1,1,()=>{i[r]=null});return{c(){e=B("div");for(let r=0;r<i.length;r+=1)i[r].c()},l(r){e=V(r,"DIV",{});var s=C(e);for(let a=0;a<i.length;a+=1)i[a].l(s);s.forEach(h)},m(r,s){A(r,e,s);for(let a=0;a<i.length;a+=1)i[a].m(e,null);t=!0},p(r,[s]){if(s&7){l=r[1];let a;for(a=0;a<l.length;a+=1){const u=qe(r,l,a);i[a]?(i[a].p(u,s),v(i[a],1)):(i[a]=Ce(u),i[a].c(),v(i[a],1),i[a].m(e,null))}for(fe(),a=l.length;a<i.length;a+=1)f(a);ue()}},i(r){if(!t){for(let s=0;s<l.length;s+=1)v(i[s]);t=!0}},o(r){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)E(i[s]);t=!1},d(r){r&&h(e),ke(i,r)}}}function Jt(n,e,t){let{data:l}=e,{inline:i=!1}=e,{smallText:f=!1}=e;function r(m){f=m,t(0,f)}function s(m){f=m,t(0,f)}function a(m){f=m,t(0,f)}function u(m){f=m,t(0,f)}function o(m){f=m,t(0,f)}function c(m){f=m,t(0,f)}return n.$$set=m=>{"data"in m&&t(1,l=m.data),"inline"in m&&t(2,i=m.inline),"smallText"in m&&t(0,f=m.smallText)},[f,l,i,r,s,a,u,o,c]}class be extends ie{constructor(e){super(),se(this,e,Jt,Kt,re,{data:1,inline:2,smallText:0})}}function Qt(n){let e,t,l,i;return{c(){e=B("button"),this.h()},l(f){e=V(f,"BUTTON",{class:!0}),C(e).forEach(h),this.h()},h(){z(e,"class",t="rounded-lg border-2 "+n[5]+"transition-color duration-300 border-luh-bdr-lgt dark:border-luh-bdr-drk w-4 md:w-8 h-8")},m(f,r){A(f,e,r),l||(i=le(e,"click",n[11]),l=!0)},p(f,r){r&32&&t!==(t="rounded-lg border-2 "+f[5]+"transition-color duration-300 border-luh-bdr-lgt dark:border-luh-bdr-drk w-4 md:w-8 h-8")&&z(e,"class",t)},i:ee,o:ee,d(f){f&&h(e),l=!1,i()}}}function Rt(n){let e,t,l,i,f,r,s;function a(o){n[9](o)}let u={data:n[4].text,inline:!0};return n[1]!==void 0&&(u.smallText=n[1]),t=new be({props:u}),F.push(()=>y(t,"smallText",a)),{c(){e=B("button"),H(t.$$.fragment),this.h()},l(o){e=V(o,"BUTTON",{class:!0});var c=C(e);Z(t.$$.fragment,c),c.forEach(h),this.h()},h(){z(e,"class",i="rounded-lg border-2 "+n[5]+"transition-color duration-300 border-luh-bdr-lgt dark:border-luh-bdr-drk")},m(o,c){A(o,e,c),G(t,e,null),f=!0,r||(s=le(e,"click",n[10]),r=!0)},p(o,c){const m={};c&16&&(m.data=o[4].text),!l&&c&2&&(l=!0,m.smallText=o[1],j(()=>l=!1)),t.$set(m),(!f||c&32&&i!==(i="rounded-lg border-2 "+o[5]+"transition-color duration-300 border-luh-bdr-lgt dark:border-luh-bdr-drk"))&&z(e,"class",i)},i(o){f||(v(t.$$.fragment,o),f=!0)},o(o){E(t.$$.fragment,o),f=!1},d(o){o&&h(e),K(t),r=!1,s()}}}function Wt(n){let e,t,l,i;const f=[Rt,Qt],r=[];function s(a,u){return a[4]?0:1}return e=s(n),t=r[e]=f[e](n),{c(){t.c(),l=ne()},l(a){t.l(a),l=ne()},m(a,u){r[e].m(a,u),A(a,l,u),i=!0},p(a,[u]){let o=e;e=s(a),e===o?r[e].p(a,u):(fe(),E(r[o],1,1,()=>{r[o]=null}),ue(),t=r[e],t?t.p(a,u):(t=r[e]=f[e](a),t.c()),v(t,1),t.m(l.parentNode,l))},i(a){i||(v(t),i=!0)},o(a){E(t),i=!1},d(a){r[e].d(a),a&&h(l)}}}function Yt(n,e,t){let{data:l}=e,{items:i}=e,{currentSelectId:f=null}=e,{feedback:r=void 0}=e,{taskState:s}=e,{smallText:a=!1}=e,{justFinished:u}=e,o=null,c;const m=(d,T,I)=>{if(d&&(s==="success"||s==="fail")&&u){const w=d.find(g=>g.id===I.id);if(w)return w.correct?"bg-sec-suc-lgt dark:bg-sec-suc-drk cursor-default ":"bg-sec-fal-lgt dark:bg-sec-fal-drk cursor-default "}return I&&T===I.id?"bg-luh-pri-hgl-lgt dark:bg-luh-pri-hgl-drk ":"hover:bg-luh-pri-hgl-lgt dark:hover:bg-luh-pri-hgl-drk "};function p(d){a=d,t(1,a)}const _=()=>{(s==="inprogress"||s==="notstarted"||s==="warning")&&t(0,f=l.id)},b=()=>{(s==="inprogress"||s==="notstarted"||s==="warning")&&t(0,f=l.id)};return n.$$set=d=>{"data"in d&&t(2,l=d.data),"items"in d&&t(6,i=d.items),"currentSelectId"in d&&t(0,f=d.currentSelectId),"feedback"in d&&t(7,r=d.feedback),"taskState"in d&&t(3,s=d.taskState),"smallText"in d&&t(1,a=d.smallText),"justFinished"in d&&t(8,u=d.justFinished)},n.$$.update=()=>{n.$$.dirty&64&&i&&i.filter(d=>!d.taken).map(d=>({text:d.text,id:d.id})),n.$$.dirty&68&&(i&&i.filter(d=>d.taken).length>0?t(4,o=i.filter(d=>d.taken===l.id)[0]):t(4,o=null)),n.$$.dirty&133&&(l?t(5,c=m(r==null?void 0:r.items,f,l)):t(5,c=""))},[f,a,l,s,o,c,i,r,u,p,_,b]}class it extends ie{constructor(e){super(),se(this,e,Yt,Wt,re,{data:2,items:6,currentSelectId:0,feedback:7,taskState:3,smallText:1,justFinished:8})}}function Xt(n){let e,t,l,i,f,r,s,a,u,o,c,m,p,_,b,d,T,I,w,g,D,N;function O(S){n[7](S)}function L(S){n[8](S)}function Q(S){n[9](S)}function k(S){n[10](S)}function M(S){n[11](S)}function x(S){n[12](S)}let te={data:n[6].numerator};n[0]!==void 0&&(te.items=n[0]),n[1]!==void 0&&(te.currentSelectId=n[1]),n[2]!==void 0&&(te.feedback=n[2]),n[3]!==void 0&&(te.taskState=n[3]),n[4]!==void 0&&(te.smallText=n[4]),n[5]!==void 0&&(te.justFinished=n[5]),l=new Se({props:te}),F.push(()=>y(l,"items",O)),F.push(()=>y(l,"currentSelectId",L)),F.push(()=>y(l,"feedback",Q)),F.push(()=>y(l,"taskState",k)),F.push(()=>y(l,"smallText",M)),F.push(()=>y(l,"justFinished",x));function R(S){n[13](S)}function q(S){n[14](S)}function de(S){n[15](S)}function oe(S){n[16](S)}function ge(S){n[17](S)}function U(S){n[18](S)}let ce={data:n[6].denominator};return n[0]!==void 0&&(ce.items=n[0]),n[1]!==void 0&&(ce.currentSelectId=n[1]),n[2]!==void 0&&(ce.feedback=n[2]),n[3]!==void 0&&(ce.taskState=n[3]),n[4]!==void 0&&(ce.smallText=n[4]),n[5]!==void 0&&(ce.justFinished=n[5]),b=new Se({props:ce}),F.push(()=>y(b,"items",R)),F.push(()=>y(b,"currentSelectId",q)),F.push(()=>y(b,"feedback",de)),F.push(()=>y(b,"taskState",oe)),F.push(()=>y(b,"smallText",ge)),F.push(()=>y(b,"justFinished",U)),{c(){e=B("div"),t=B("span"),H(l.$$.fragment),o=X(),c=B("span"),m=W("/"),p=X(),_=B("span"),H(b.$$.fragment),this.h()},l(S){e=V(S,"DIV",{class:!0});var J=C(e);t=V(J,"SPAN",{class:!0});var ae=C(t);Z(l.$$.fragment,ae),ae.forEach(h),o=$(J),c=V(J,"SPAN",{class:!0});var he=C(c);m=Y(he,"/"),he.forEach(h),p=$(J),_=V(J,"SPAN",{class:!0});var _e=C(_);Z(b.$$.fragment,_e),_e.forEach(h),J.forEach(h),this.h()},h(){z(t,"class","svelte-100yxce"),z(c,"class","symbol svelte-100yxce"),z(_,"class","bottom border-t-[2px] border-text-lgt dark:border-text-drk svelte-100yxce"),z(e,"class","frac svelte-100yxce")},m(S,J){A(S,e,J),P(e,t),G(l,t,null),P(e,o),P(e,c),P(c,m),P(e,p),P(e,_),G(b,_,null),N=!0},p(S,[J]){const ae={};J&64&&(ae.data=S[6].numerator),!i&&J&1&&(i=!0,ae.items=S[0],j(()=>i=!1)),!f&&J&2&&(f=!0,ae.currentSelectId=S[1],j(()=>f=!1)),!r&&J&4&&(r=!0,ae.feedback=S[2],j(()=>r=!1)),!s&&J&8&&(s=!0,ae.taskState=S[3],j(()=>s=!1)),!a&&J&16&&(a=!0,ae.smallText=S[4],j(()=>a=!1)),!u&&J&32&&(u=!0,ae.justFinished=S[5],j(()=>u=!1)),l.$set(ae);const he={};J&64&&(he.data=S[6].denominator),!d&&J&1&&(d=!0,he.items=S[0],j(()=>d=!1)),!T&&J&2&&(T=!0,he.currentSelectId=S[1],j(()=>T=!1)),!I&&J&4&&(I=!0,he.feedback=S[2],j(()=>I=!1)),!w&&J&8&&(w=!0,he.taskState=S[3],j(()=>w=!1)),!g&&J&16&&(g=!0,he.smallText=S[4],j(()=>g=!1)),!D&&J&32&&(D=!0,he.justFinished=S[5],j(()=>D=!1)),b.$set(he)},i(S){N||(v(l.$$.fragment,S),v(b.$$.fragment,S),N=!0)},o(S){E(l.$$.fragment,S),E(b.$$.fragment,S),N=!1},d(S){S&&h(e),K(l),K(b)}}}function $t(n,e,t){let{data:l}=e,{items:i}=e,{currentSelectId:f=null}=e,{feedback:r=void 0}=e,{taskState:s}=e,{smallText:a=!1}=e,{justFinished:u}=e;function o(N){i=N,t(0,i)}function c(N){f=N,t(1,f)}function m(N){r=N,t(2,r)}function p(N){s=N,t(3,s)}function _(N){a=N,t(4,a)}function b(N){u=N,t(5,u)}function d(N){i=N,t(0,i)}function T(N){f=N,t(1,f)}function I(N){r=N,t(2,r)}function w(N){s=N,t(3,s)}function g(N){a=N,t(4,a)}function D(N){u=N,t(5,u)}return n.$$set=N=>{"data"in N&&t(6,l=N.data),"items"in N&&t(0,i=N.items),"currentSelectId"in N&&t(1,f=N.currentSelectId),"feedback"in N&&t(2,r=N.feedback),"taskState"in N&&t(3,s=N.taskState),"smallText"in N&&t(4,a=N.smallText),"justFinished"in N&&t(5,u=N.justFinished)},[i,f,r,s,a,u,l,o,c,m,p,_,b,d,T,I,w,g,D]}class xt extends ie{constructor(e){super(),se(this,e,$t,Xt,re,{data:6,items:0,currentSelectId:1,feedback:2,taskState:3,smallText:4,justFinished:5})}}function en(n){let e,t,l,i,f,r,s,a,u,o,c,m,p,_,b,d,T,I,w,g;function D(S){n[7](S)}function N(S){n[8](S)}function O(S){n[9](S)}function L(S){n[10](S)}function Q(S){n[11](S)}function k(S){n[12](S)}let M={data:n[6].left};n[0]!==void 0&&(M.items=n[0]),n[1]!==void 0&&(M.currentSelectId=n[1]),n[2]!==void 0&&(M.feedback=n[2]),n[3]!==void 0&&(M.taskState=n[3]),n[4]!==void 0&&(M.smallText=n[4]),n[5]!==void 0&&(M.justFinished=n[5]),t=new Se({props:M}),F.push(()=>y(t,"items",D)),F.push(()=>y(t,"currentSelectId",N)),F.push(()=>y(t,"feedback",O)),F.push(()=>y(t,"taskState",L)),F.push(()=>y(t,"smallText",Q)),F.push(()=>y(t,"justFinished",k));function x(S){n[13](S)}let te={math:n[6].operator};n[4]!==void 0&&(te.smallText=n[4]),o=new we({props:te}),F.push(()=>y(o,"smallText",x));function R(S){n[14](S)}function q(S){n[15](S)}function de(S){n[16](S)}function oe(S){n[17](S)}function ge(S){n[18](S)}function U(S){n[19](S)}let ce={data:n[6].right};return n[0]!==void 0&&(ce.items=n[0]),n[1]!==void 0&&(ce.currentSelectId=n[1]),n[2]!==void 0&&(ce.feedback=n[2]),n[3]!==void 0&&(ce.taskState=n[3]),n[4]!==void 0&&(ce.smallText=n[4]),n[5]!==void 0&&(ce.justFinished=n[5]),p=new Se({props:ce}),F.push(()=>y(p,"items",R)),F.push(()=>y(p,"currentSelectId",q)),F.push(()=>y(p,"feedback",de)),F.push(()=>y(p,"taskState",oe)),F.push(()=>y(p,"smallText",ge)),F.push(()=>y(p,"justFinished",U)),{c(){e=B("div"),H(t.$$.fragment),u=X(),H(o.$$.fragment),m=X(),H(p.$$.fragment),this.h()},l(S){e=V(S,"DIV",{class:!0});var J=C(e);Z(t.$$.fragment,J),u=$(J),Z(o.$$.fragment,J),m=$(J),Z(p.$$.fragment,J),J.forEach(h),this.h()},h(){z(e,"class","flex flex-row items-center gap-2")},m(S,J){A(S,e,J),G(t,e,null),P(e,u),G(o,e,null),P(e,m),G(p,e,null),g=!0},p(S,[J]){const ae={};J&64&&(ae.data=S[6].left),!l&&J&1&&(l=!0,ae.items=S[0],j(()=>l=!1)),!i&&J&2&&(i=!0,ae.currentSelectId=S[1],j(()=>i=!1)),!f&&J&4&&(f=!0,ae.feedback=S[2],j(()=>f=!1)),!r&&J&8&&(r=!0,ae.taskState=S[3],j(()=>r=!1)),!s&&J&16&&(s=!0,ae.smallText=S[4],j(()=>s=!1)),!a&&J&32&&(a=!0,ae.justFinished=S[5],j(()=>a=!1)),t.$set(ae);const he={};J&64&&(he.math=S[6].operator),!c&&J&16&&(c=!0,he.smallText=S[4],j(()=>c=!1)),o.$set(he);const _e={};J&64&&(_e.data=S[6].right),!_&&J&1&&(_=!0,_e.items=S[0],j(()=>_=!1)),!b&&J&2&&(b=!0,_e.currentSelectId=S[1],j(()=>b=!1)),!d&&J&4&&(d=!0,_e.feedback=S[2],j(()=>d=!1)),!T&&J&8&&(T=!0,_e.taskState=S[3],j(()=>T=!1)),!I&&J&16&&(I=!0,_e.smallText=S[4],j(()=>I=!1)),!w&&J&32&&(w=!0,_e.justFinished=S[5],j(()=>w=!1)),p.$set(_e)},i(S){g||(v(t.$$.fragment,S),v(o.$$.fragment,S),v(p.$$.fragment,S),g=!0)},o(S){E(t.$$.fragment,S),E(o.$$.fragment,S),E(p.$$.fragment,S),g=!1},d(S){S&&h(e),K(t),K(o),K(p)}}}function tn(n,e,t){let{data:l}=e,{items:i}=e,{currentSelectId:f=null}=e,{feedback:r=void 0}=e,{taskState:s}=e,{smallText:a=!1}=e,{justFinished:u}=e;function o(O){i=O,t(0,i)}function c(O){f=O,t(1,f)}function m(O){r=O,t(2,r)}function p(O){s=O,t(3,s)}function _(O){a=O,t(4,a)}function b(O){u=O,t(5,u)}function d(O){a=O,t(4,a)}function T(O){i=O,t(0,i)}function I(O){f=O,t(1,f)}function w(O){r=O,t(2,r)}function g(O){s=O,t(3,s)}function D(O){a=O,t(4,a)}function N(O){u=O,t(5,u)}return n.$$set=O=>{"data"in O&&t(6,l=O.data),"items"in O&&t(0,i=O.items),"currentSelectId"in O&&t(1,f=O.currentSelectId),"feedback"in O&&t(2,r=O.feedback),"taskState"in O&&t(3,s=O.taskState),"smallText"in O&&t(4,a=O.smallText),"justFinished"in O&&t(5,u=O.justFinished)},[i,f,r,s,a,u,l,o,c,m,p,_,b,d,T,I,w,g,D,N]}class nn extends ie{constructor(e){super(),se(this,e,tn,en,re,{data:6,items:0,currentSelectId:1,feedback:2,taskState:3,smallText:4,justFinished:5})}}function ln(n){let e,t;return{c(){e=B("span"),t=W("NOT IMPLEMENTED YET!")},l(l){e=V(l,"SPAN",{});var i=C(e);t=Y(i,"NOT IMPLEMENTED YET!"),i.forEach(h)},m(l,i){A(l,e,i),P(e,t)},p:ee,i:ee,o:ee,d(l){l&&h(e)}}}function rn(n,e,t){let{data:l}=e,{items:i}=e,{currentSelectId:f=null}=e,{feedback:r=void 0}=e,{taskState:s}=e,{smallText:a=!1}=e,{justFinished:u}=e;return n.$$set=o=>{"data"in o&&t(0,l=o.data),"items"in o&&t(1,i=o.items),"currentSelectId"in o&&t(2,f=o.currentSelectId),"feedback"in o&&t(3,r=o.feedback),"taskState"in o&&t(4,s=o.taskState),"smallText"in o&&t(5,a=o.smallText),"justFinished"in o&&t(6,u=o.justFinished)},[l,i,f,r,s,a,u]}class an extends ie{constructor(e){super(),se(this,e,rn,ln,re,{data:0,items:1,currentSelectId:2,feedback:3,taskState:4,smallText:5,justFinished:6})}}function sn(n){let e,t,l,i,f,r,s,a;function u(d){n[26](d)}function o(d){n[27](d)}function c(d){n[28](d)}function m(d){n[29](d)}function p(d){n[30](d)}function _(d){n[31](d)}let b={data:n[6]};return n[0]!==void 0&&(b.items=n[0]),n[1]!==void 0&&(b.currentSelectId=n[1]),n[2]!==void 0&&(b.feedback=n[2]),n[3]!==void 0&&(b.taskState=n[3]),n[4]!==void 0&&(b.smallText=n[4]),n[5]!==void 0&&(b.justFinished=n[5]),e=new it({props:b}),F.push(()=>y(e,"items",u)),F.push(()=>y(e,"currentSelectId",o)),F.push(()=>y(e,"feedback",c)),F.push(()=>y(e,"taskState",m)),F.push(()=>y(e,"smallText",p)),F.push(()=>y(e,"justFinished",_)),{c(){H(e.$$.fragment)},l(d){Z(e.$$.fragment,d)},m(d,T){G(e,d,T),a=!0},p(d,T){const I={};T[0]&64&&(I.data=d[6]),!t&&T[0]&1&&(t=!0,I.items=d[0],j(()=>t=!1)),!l&&T[0]&2&&(l=!0,I.currentSelectId=d[1],j(()=>l=!1)),!i&&T[0]&4&&(i=!0,I.feedback=d[2],j(()=>i=!1)),!f&&T[0]&8&&(f=!0,I.taskState=d[3],j(()=>f=!1)),!r&&T[0]&16&&(r=!0,I.smallText=d[4],j(()=>r=!1)),!s&&T[0]&32&&(s=!0,I.justFinished=d[5],j(()=>s=!1)),e.$set(I)},i(d){a||(v(e.$$.fragment,d),a=!0)},o(d){E(e.$$.fragment,d),a=!1},d(d){K(e,d)}}}function fn(n){let e,t,l,i,f,r,s,a;function u(d){n[20](d)}function o(d){n[21](d)}function c(d){n[22](d)}function m(d){n[23](d)}function p(d){n[24](d)}function _(d){n[25](d)}let b={data:n[6]};return n[0]!==void 0&&(b.items=n[0]),n[1]!==void 0&&(b.currentSelectId=n[1]),n[2]!==void 0&&(b.feedback=n[2]),n[3]!==void 0&&(b.taskState=n[3]),n[4]!==void 0&&(b.smallText=n[4]),n[5]!==void 0&&(b.justFinished=n[5]),e=new an({props:b}),F.push(()=>y(e,"items",u)),F.push(()=>y(e,"currentSelectId",o)),F.push(()=>y(e,"feedback",c)),F.push(()=>y(e,"taskState",m)),F.push(()=>y(e,"smallText",p)),F.push(()=>y(e,"justFinished",_)),{c(){H(e.$$.fragment)},l(d){Z(e.$$.fragment,d)},m(d,T){G(e,d,T),a=!0},p(d,T){const I={};T[0]&64&&(I.data=d[6]),!t&&T[0]&1&&(t=!0,I.items=d[0],j(()=>t=!1)),!l&&T[0]&2&&(l=!0,I.currentSelectId=d[1],j(()=>l=!1)),!i&&T[0]&4&&(i=!0,I.feedback=d[2],j(()=>i=!1)),!f&&T[0]&8&&(f=!0,I.taskState=d[3],j(()=>f=!1)),!r&&T[0]&16&&(r=!0,I.smallText=d[4],j(()=>r=!1)),!s&&T[0]&32&&(s=!0,I.justFinished=d[5],j(()=>s=!1)),e.$set(I)},i(d){a||(v(e.$$.fragment,d),a=!0)},o(d){E(e.$$.fragment,d),a=!1},d(d){K(e,d)}}}function un(n){let e,t,l,i,f,r,s,a;function u(d){n[14](d)}function o(d){n[15](d)}function c(d){n[16](d)}function m(d){n[17](d)}function p(d){n[18](d)}function _(d){n[19](d)}let b={data:n[6]};return n[0]!==void 0&&(b.items=n[0]),n[1]!==void 0&&(b.currentSelectId=n[1]),n[2]!==void 0&&(b.feedback=n[2]),n[3]!==void 0&&(b.taskState=n[3]),n[4]!==void 0&&(b.smallText=n[4]),n[5]!==void 0&&(b.justFinished=n[5]),e=new nn({props:b}),F.push(()=>y(e,"items",u)),F.push(()=>y(e,"currentSelectId",o)),F.push(()=>y(e,"feedback",c)),F.push(()=>y(e,"taskState",m)),F.push(()=>y(e,"smallText",p)),F.push(()=>y(e,"justFinished",_)),{c(){H(e.$$.fragment)},l(d){Z(e.$$.fragment,d)},m(d,T){G(e,d,T),a=!0},p(d,T){const I={};T[0]&64&&(I.data=d[6]),!t&&T[0]&1&&(t=!0,I.items=d[0],j(()=>t=!1)),!l&&T[0]&2&&(l=!0,I.currentSelectId=d[1],j(()=>l=!1)),!i&&T[0]&4&&(i=!0,I.feedback=d[2],j(()=>i=!1)),!f&&T[0]&8&&(f=!0,I.taskState=d[3],j(()=>f=!1)),!r&&T[0]&16&&(r=!0,I.smallText=d[4],j(()=>r=!1)),!s&&T[0]&32&&(s=!0,I.justFinished=d[5],j(()=>s=!1)),e.$set(I)},i(d){a||(v(e.$$.fragment,d),a=!0)},o(d){E(e.$$.fragment,d),a=!1},d(d){K(e,d)}}}function dn(n){let e,t,l,i,f,r,s,a;function u(d){n[8](d)}function o(d){n[9](d)}function c(d){n[10](d)}function m(d){n[11](d)}function p(d){n[12](d)}function _(d){n[13](d)}let b={data:n[6]};return n[0]!==void 0&&(b.items=n[0]),n[1]!==void 0&&(b.currentSelectId=n[1]),n[2]!==void 0&&(b.feedback=n[2]),n[3]!==void 0&&(b.taskState=n[3]),n[4]!==void 0&&(b.smallText=n[4]),n[5]!==void 0&&(b.justFinished=n[5]),e=new xt({props:b}),F.push(()=>y(e,"items",u)),F.push(()=>y(e,"currentSelectId",o)),F.push(()=>y(e,"feedback",c)),F.push(()=>y(e,"taskState",m)),F.push(()=>y(e,"smallText",p)),F.push(()=>y(e,"justFinished",_)),{c(){H(e.$$.fragment)},l(d){Z(e.$$.fragment,d)},m(d,T){G(e,d,T),a=!0},p(d,T){const I={};T[0]&64&&(I.data=d[6]),!t&&T[0]&1&&(t=!0,I.items=d[0],j(()=>t=!1)),!l&&T[0]&2&&(l=!0,I.currentSelectId=d[1],j(()=>l=!1)),!i&&T[0]&4&&(i=!0,I.feedback=d[2],j(()=>i=!1)),!f&&T[0]&8&&(f=!0,I.taskState=d[3],j(()=>f=!1)),!r&&T[0]&16&&(r=!0,I.smallText=d[4],j(()=>r=!1)),!s&&T[0]&32&&(s=!0,I.justFinished=d[5],j(()=>s=!1)),e.$set(I)},i(d){a||(v(e.$$.fragment,d),a=!0)},o(d){E(e.$$.fragment,d),a=!1},d(d){K(e,d)}}}function on(n){let e,t,l;function i(r){n[7](r)}let f={math:n[6].math};return n[4]!==void 0&&(f.smallText=n[4]),e=new we({props:f}),F.push(()=>y(e,"smallText",i)),{c(){H(e.$$.fragment)},l(r){Z(e.$$.fragment,r)},m(r,s){G(e,r,s),l=!0},p(r,s){const a={};s[0]&64&&(a.math=r[6].math),!t&&s[0]&16&&(t=!0,a.smallText=r[4],j(()=>t=!1)),e.$set(a)},i(r){l||(v(e.$$.fragment,r),l=!0)},o(r){E(e.$$.fragment,r),l=!1},d(r){K(e,r)}}}function cn(n){let e,t,l,i;const f=[on,dn,un,fn,sn],r=[];function s(a,u){return a[6].type==="dndMathKatex"?0:a[6].type==="dndMathFraction"?1:a[6].type==="dndMathOperation"?2:a[6].type==="dndMathSuperSubSet"?3:a[6].type==="dropZone"?4:-1}return~(e=s(n))&&(t=r[e]=f[e](n)),{c(){t&&t.c(),l=ne()},l(a){t&&t.l(a),l=ne()},m(a,u){~e&&r[e].m(a,u),A(a,l,u),i=!0},p(a,u){let o=e;e=s(a),e===o?~e&&r[e].p(a,u):(t&&(fe(),E(r[o],1,1,()=>{r[o]=null}),ue()),~e?(t=r[e],t?t.p(a,u):(t=r[e]=f[e](a),t.c()),v(t,1),t.m(l.parentNode,l)):t=null)},i(a){i||(v(t),i=!0)},o(a){E(t),i=!1},d(a){~e&&r[e].d(a),a&&h(l)}}}function hn(n,e,t){let{data:l}=e,{items:i}=e,{currentSelectId:f=null}=e,{feedback:r=void 0}=e,{taskState:s}=e,{smallText:a=!1}=e,{justFinished:u}=e;ve();function o(U){a=U,t(4,a)}function c(U){i=U,t(0,i)}function m(U){f=U,t(1,f)}function p(U){r=U,t(2,r)}function _(U){s=U,t(3,s)}function b(U){a=U,t(4,a)}function d(U){u=U,t(5,u)}function T(U){i=U,t(0,i)}function I(U){f=U,t(1,f)}function w(U){r=U,t(2,r)}function g(U){s=U,t(3,s)}function D(U){a=U,t(4,a)}function N(U){u=U,t(5,u)}function O(U){i=U,t(0,i)}function L(U){f=U,t(1,f)}function Q(U){r=U,t(2,r)}function k(U){s=U,t(3,s)}function M(U){a=U,t(4,a)}function x(U){u=U,t(5,u)}function te(U){i=U,t(0,i)}function R(U){f=U,t(1,f)}function q(U){r=U,t(2,r)}function de(U){s=U,t(3,s)}function oe(U){a=U,t(4,a)}function ge(U){u=U,t(5,u)}return n.$$set=U=>{"data"in U&&t(6,l=U.data),"items"in U&&t(0,i=U.items),"currentSelectId"in U&&t(1,f=U.currentSelectId),"feedback"in U&&t(2,r=U.feedback),"taskState"in U&&t(3,s=U.taskState),"smallText"in U&&t(4,a=U.smallText),"justFinished"in U&&t(5,u=U.justFinished)},[i,f,r,s,a,u,l,o,c,m,p,_,b,d,T,I,w,g,D,N,O,L,Q,k,M,x,te,R,q,de,oe,ge]}class Se extends ie{constructor(e){super(),se(this,e,hn,cn,re,{data:6,items:0,currentSelectId:1,feedback:2,taskState:3,smallText:4,justFinished:5},null,[-1,-1])}}function _n(n){let e,t,l,i,f,r,s,a;function u(d){n[7](d)}function o(d){n[8](d)}function c(d){n[9](d)}function m(d){n[10](d)}function p(d){n[11](d)}function _(d){n[12](d)}let b={data:n[6].mathData};return n[0]!==void 0&&(b.items=n[0]),n[1]!==void 0&&(b.currentSelectId=n[1]),n[2]!==void 0&&(b.feedback=n[2]),n[3]!==void 0&&(b.taskState=n[3]),n[4]!==void 0&&(b.smallText=n[4]),n[5]!==void 0&&(b.justFinished=n[5]),e=new Se({props:b}),F.push(()=>y(e,"items",u)),F.push(()=>y(e,"currentSelectId",o)),F.push(()=>y(e,"feedback",c)),F.push(()=>y(e,"taskState",m)),F.push(()=>y(e,"smallText",p)),F.push(()=>y(e,"justFinished",_)),{c(){H(e.$$.fragment)},l(d){Z(e.$$.fragment,d)},m(d,T){G(e,d,T),a=!0},p(d,[T]){const I={};T&64&&(I.data=d[6].mathData),!t&&T&1&&(t=!0,I.items=d[0],j(()=>t=!1)),!l&&T&2&&(l=!0,I.currentSelectId=d[1],j(()=>l=!1)),!i&&T&4&&(i=!0,I.feedback=d[2],j(()=>i=!1)),!f&&T&8&&(f=!0,I.taskState=d[3],j(()=>f=!1)),!r&&T&16&&(r=!0,I.smallText=d[4],j(()=>r=!1)),!s&&T&32&&(s=!0,I.justFinished=d[5],j(()=>s=!1)),e.$set(I)},i(d){a||(v(e.$$.fragment,d),a=!0)},o(d){E(e.$$.fragment,d),a=!1},d(d){K(e,d)}}}function mn(n,e,t){let{data:l}=e,{items:i}=e,{currentSelectId:f=null}=e,{feedback:r=void 0}=e,{taskState:s}=e,{smallText:a=!1}=e,{justFinished:u}=e;function o(d){i=d,t(0,i)}function c(d){f=d,t(1,f)}function m(d){r=d,t(2,r)}function p(d){s=d,t(3,s)}function _(d){a=d,t(4,a)}function b(d){u=d,t(5,u)}return n.$$set=d=>{"data"in d&&t(6,l=d.data),"items"in d&&t(0,i=d.items),"currentSelectId"in d&&t(1,f=d.currentSelectId),"feedback"in d&&t(2,r=d.feedback),"taskState"in d&&t(3,s=d.taskState),"smallText"in d&&t(4,a=d.smallText),"justFinished"in d&&t(5,u=d.justFinished)},[i,f,r,s,a,u,l,o,c,m,p,_,b]}class gn extends ie{constructor(e){super(),se(this,e,mn,_n,re,{data:6,items:0,currentSelectId:1,feedback:2,taskState:3,smallText:4,justFinished:5})}}function bn(n){let e;return{c(){e=dt("path"),this.h()},l(t){e=ot(t,"path",{d:!0}),C(e).forEach(h),this.h()},h(){z(e,"d","M256 8C119.034 8 8 119.033 8 256s111.034 248 248 248 248-111.034 248-248S392.967 8 256 8zm130.108 117.892c65.448 65.448 70 165.481 20.677 235.637L150.47 105.216c70.204-49.356 170.226-44.735 235.638 20.676zM125.892 386.108c-65.448-65.448-70-165.481-20.677-235.637L361.53 406.784c-70.203 49.356-170.226 44.736-235.638-20.676z")},m(t,l){A(t,e,l)},p:ee,d(t){t&&h(e)}}}function kn(n){let e,t;const l=[{viewBox:"0 0 512 512"},n[0]];let i={$$slots:{default:[bn]},$$scope:{ctx:n}};for(let f=0;f<l.length;f+=1)i=je(i,l[f]);return e=new St({props:i}),{c(){H(e.$$.fragment)},l(f){Z(e.$$.fragment,f)},m(f,r){G(e,f,r),t=!0},p(f,[r]){const s=r&1?ft(l,[l[0],ut(f[0])]):{};r&2&&(s.$$scope={dirty:r,ctx:f}),e.$set(s)},i(f){t||(v(e.$$.fragment,f),t=!0)},o(f){E(e.$$.fragment,f),t=!1},d(f){K(e,f)}}}function pn(n,e,t){return n.$$set=l=>{t(0,e=je(je({},e),Me(l)))},e=Me(e),[e]}class Tn extends ie{constructor(e){super(),se(this,e,pn,kn,re,{})}}function Oe(n,e,t){const l=n.slice();return l[28]=e[t],l[29]=e,l[30]=t,l}function Pe(n,e,t){const l=n.slice();return l[28]=e[t],l}function Sn(n){let e,t,l,i,f,r,s,a;function u(d){n[20](d)}function o(d){n[21](d)}function c(d){n[22](d)}function m(d){n[23](d)}function p(d){n[24](d)}function _(d){n[25](d)}let b={data:n[28]};return n[5]!==void 0&&(b.items=n[5]),n[6]!==void 0&&(b.currentSelectId=n[6]),n[0]!==void 0&&(b.feedback=n[0]),n[1]!==void 0&&(b.taskState=n[1]),n[2]!==void 0&&(b.smallText=n[2]),n[3]!==void 0&&(b.justFinished=n[3]),e=new gn({props:b}),F.push(()=>y(e,"items",u)),F.push(()=>y(e,"currentSelectId",o)),F.push(()=>y(e,"feedback",c)),F.push(()=>y(e,"taskState",m)),F.push(()=>y(e,"smallText",p)),F.push(()=>y(e,"justFinished",_)),{c(){H(e.$$.fragment)},l(d){Z(e.$$.fragment,d)},m(d,T){G(e,d,T),a=!0},p(d,T){const I={};T[0]&16&&(I.data=d[28]),!t&&T[0]&32&&(t=!0,I.items=d[5],j(()=>t=!1)),!l&&T[0]&64&&(l=!0,I.currentSelectId=d[6],j(()=>l=!1)),!i&&T[0]&1&&(i=!0,I.feedback=d[0],j(()=>i=!1)),!f&&T[0]&2&&(f=!0,I.taskState=d[1],j(()=>f=!1)),!r&&T[0]&4&&(r=!0,I.smallText=d[2],j(()=>r=!1)),!s&&T[0]&8&&(s=!0,I.justFinished=d[3],j(()=>s=!1)),e.$set(I)},i(d){a||(v(e.$$.fragment,d),a=!0)},o(d){E(e.$$.fragment,d),a=!1},d(d){K(e,d)}}}function vn(n){let e,t,l,i,f,r,s;function a(_){n[14](_)}function u(_){n[15](_)}function o(_){n[16](_)}function c(_){n[17](_)}function m(_){n[18](_)}let p={data:n[28]};return n[5]!==void 0&&(p.items=n[5]),n[0]!==void 0&&(p.feedback=n[0]),n[1]!==void 0&&(p.taskState=n[1]),n[2]!==void 0&&(p.smallText=n[2]),n[3]!==void 0&&(p.justFinished=n[3]),e=new it({props:p}),F.push(()=>y(e,"items",a)),F.push(()=>y(e,"feedback",u)),F.push(()=>y(e,"taskState",o)),F.push(()=>y(e,"smallText",c)),F.push(()=>y(e,"justFinished",m)),e.$on("openSelect",n[19]),{c(){H(e.$$.fragment)},l(_){Z(e.$$.fragment,_)},m(_,b){G(e,_,b),s=!0},p(_,b){const d={};b[0]&16&&(d.data=_[28]),!t&&b[0]&32&&(t=!0,d.items=_[5],j(()=>t=!1)),!l&&b[0]&1&&(l=!0,d.feedback=_[0],j(()=>l=!1)),!i&&b[0]&2&&(i=!0,d.taskState=_[1],j(()=>i=!1)),!f&&b[0]&4&&(f=!0,d.smallText=_[2],j(()=>f=!1)),!r&&b[0]&8&&(r=!0,d.justFinished=_[3],j(()=>r=!1)),e.$set(d)},i(_){s||(v(e.$$.fragment,_),s=!0)},o(_){E(e.$$.fragment,_),s=!1},d(_){K(e,_)}}}function In(n){let e,t,l;function i(r){n[13](r)}let f={data:n[28]};return n[2]!==void 0&&(f.smallText=n[2]),e=new at({props:f}),F.push(()=>y(e,"smallText",i)),{c(){H(e.$$.fragment)},l(r){Z(e.$$.fragment,r)},m(r,s){G(e,r,s),l=!0},p(r,s){const a={};s[0]&16&&(a.data=r[28]),!t&&s[0]&4&&(t=!0,a.smallText=r[2],j(()=>t=!1)),e.$set(a)},i(r){l||(v(e.$$.fragment,r),l=!0)},o(r){E(e.$$.fragment,r),l=!1},d(r){K(e,r)}}}function wn(n){let e,t,l;function i(r){n[12](r)}let f={data:n[28]};return n[2]!==void 0&&(f.smallText=n[2]),e=new rt({props:f}),F.push(()=>y(e,"smallText",i)),{c(){H(e.$$.fragment)},l(r){Z(e.$$.fragment,r)},m(r,s){G(e,r,s),l=!0},p(r,s){const a={};s[0]&16&&(a.data=r[28]),!t&&s[0]&4&&(t=!0,a.smallText=r[2],j(()=>t=!1)),e.$set(a)},i(r){l||(v(e.$$.fragment,r),l=!0)},o(r){E(e.$$.fragment,r),l=!1},d(r){K(e,r)}}}function Fn(n){let e,t,l;function i(r){n[11](r)}let f={data:n[28]};return n[2]!==void 0&&(f.smallText=n[2]),e=new ze({props:f}),F.push(()=>y(e,"smallText",i)),{c(){H(e.$$.fragment)},l(r){Z(e.$$.fragment,r)},m(r,s){G(e,r,s),l=!0},p(r,s){const a={};s[0]&16&&(a.data=r[28]),!t&&s[0]&4&&(t=!0,a.smallText=r[2],j(()=>t=!1)),e.$set(a)},i(r){l||(v(e.$$.fragment,r),l=!0)},o(r){E(e.$$.fragment,r),l=!1},d(r){K(e,r)}}}function yn(n){let e,t,l;function i(r){n[10](r)}let f={data:n[28]};return n[2]!==void 0&&(f.smallText=n[2]),e=new Fe({props:f}),F.push(()=>y(e,"smallText",i)),{c(){H(e.$$.fragment)},l(r){Z(e.$$.fragment,r)},m(r,s){G(e,r,s),l=!0},p(r,s){const a={};s[0]&16&&(a.data=r[28]),!t&&s[0]&4&&(t=!0,a.smallText=r[2],j(()=>t=!1)),e.$set(a)},i(r){l||(v(e.$$.fragment,r),l=!0)},o(r){E(e.$$.fragment,r),l=!1},d(r){K(e,r)}}}function jn(n){let e,t,l;function i(r){n[9](r)}let f={data:n[28]};return n[2]!==void 0&&(f.smallText=n[2]),e=new Ae({props:f}),F.push(()=>y(e,"smallText",i)),{c(){H(e.$$.fragment)},l(r){Z(e.$$.fragment,r)},m(r,s){G(e,r,s),l=!0},p(r,s){const a={};s[0]&16&&(a.data=r[28]),!t&&s[0]&4&&(t=!0,a.smallText=r[2],j(()=>t=!1)),e.$set(a)},i(r){l||(v(e.$$.fragment,r),l=!0)},o(r){E(e.$$.fragment,r),l=!1},d(r){K(e,r)}}}function Ue(n){let e,t,l,i;const f=[jn,yn,Fn,wn,In,vn,Sn],r=[];function s(a,u){return a[28].type==="plainText"?0:a[28].type==="mathText"?1:a[28].type==="lineBreak"?2:a[28].type==="mathDisplay"?3:a[28].type==="paragraph"?4:a[28].type==="dropZone"?5:a[28].type==="dndMath"?6:-1}return~(e=s(n))&&(t=r[e]=f[e](n)),{c(){t&&t.c(),l=ne()},l(a){t&&t.l(a),l=ne()},m(a,u){~e&&r[e].m(a,u),A(a,l,u),i=!0},p(a,u){let o=e;e=s(a),e===o?~e&&r[e].p(a,u):(t&&(fe(),E(r[o],1,1,()=>{r[o]=null}),ue()),~e?(t=r[e],t?t.p(a,u):(t=r[e]=f[e](a),t.c()),v(t,1),t.m(l.parentNode,l)):t=null)},i(a){i||(v(t),i=!0)},o(a){E(t),i=!1},d(a){~e&&r[e].d(a),a&&h(l)}}}function Le(n){let e,t,l=n[5].find(n[8]),i,f,r=n[5].filter(Ge),s=[];for(let o=0;o<r.length;o+=1)s[o]=He(Oe(n,r,o));const a=o=>E(s[o],1,1,()=>{s[o]=null});let u=l&&Ze(n);return{c(){e=B("div");for(let o=0;o<s.length;o+=1)s[o].c();t=X(),u&&u.c(),this.h()},l(o){e=V(o,"DIV",{class:!0});var c=C(e);for(let m=0;m<s.length;m+=1)s[m].l(c);t=$(c),u&&u.l(c),c.forEach(h),this.h()},h(){z(e,"class",i="flex"+(n[2]?"":" text-2xl")+" flex px-4 gap-4 bg-luh-pri-hgl-lgt dark:bg-luh-pri-hgl-drk rounded-lg")},m(o,c){A(o,e,c);for(let m=0;m<s.length;m+=1)s[m].m(e,null);P(e,t),u&&u.m(e,null),f=!0},p(o,c){if(c[0]&96){r=o[5].filter(Ge);let m;for(m=0;m<r.length;m+=1){const p=Oe(o,r,m);s[m]?(s[m].p(p,c),v(s[m],1)):(s[m]=He(p),s[m].c(),v(s[m],1),s[m].m(e,t))}for(fe(),m=r.length;m<s.length;m+=1)a(m);ue()}c[0]&96&&(l=o[5].find(o[8])),l?u?(u.p(o,c),c[0]&96&&v(u,1)):(u=Ze(o),u.c(),v(u,1),u.m(e,null)):u&&(fe(),E(u,1,1,()=>{u=null}),ue()),(!f||c[0]&4&&i!==(i="flex"+(o[2]?"":" text-2xl")+" flex px-4 gap-4 bg-luh-pri-hgl-lgt dark:bg-luh-pri-hgl-drk rounded-lg"))&&z(e,"class",i)},i(o){if(!f){for(let c=0;c<r.length;c+=1)v(s[c]);v(u),f=!0}},o(o){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)E(s[c]);E(u),f=!1},d(o){o&&h(e),ke(s,o),u&&u.d()}}}function He(n){let e,t,l,i,f;t=new be({props:{data:n[28].text,inline:!0}});function r(){return n[26](n[28],n[29],n[30])}return{c(){e=B("button"),H(t.$$.fragment),this.h()},l(s){e=V(s,"BUTTON",{class:!0});var a=C(e);Z(t.$$.fragment,a),a.forEach(h),this.h()},h(){z(e,"class","my-4 p-1 flex flex-col flex-wrap justify-evenly border-2 border-luh-bdr-lgt dark:border-luh-bdr-drk hover:bg-luh-bdr-lgt dark:hover:bg-luh-bdr-drk transition-colors duration-300 rounded-lg")},m(s,a){A(s,e,a),G(t,e,null),l=!0,i||(f=le(e,"click",r),i=!0)},p(s,a){n=s;const u={};a[0]&32&&(u.data=n[28].text),t.$set(u)},i(s){l||(v(t.$$.fragment,s),l=!0)},o(s){E(t.$$.fragment,s),l=!1},d(s){s&&h(e),K(t),i=!1,f()}}}function Ze(n){let e,t,l,i,f,r;return l=new Tn({}),{c(){e=B("button"),t=B("div"),H(l.$$.fragment),this.h()},l(s){e=V(s,"BUTTON",{class:!0});var a=C(e);t=V(a,"DIV",{class:!0});var u=C(t);Z(l.$$.fragment,u),u.forEach(h),a.forEach(h),this.h()},h(){z(t,"class","w-6 h-6 inline-block"),z(e,"class","my-4 p-1 flex flex-col justify-evenly border-2 border-luh-bdr-lgt dark:border-luh-bdr-drk hover:bg-luh-bdr-lgt dark:hover:bg-luh-bdr-drk transition-colors duration-300 rounded-lg")},m(s,a){A(s,e,a),P(e,t),G(l,t,null),i=!0,f||(r=le(e,"click",n[27]),f=!0)},p:ee,i(s){i||(v(l.$$.fragment,s),i=!0)},o(s){E(l.$$.fragment,s),i=!1},d(s){s&&h(e),K(l),f=!1,r()}}}function Dn(n){let e,t,l,i,f=n[4],r=[];for(let u=0;u<f.length;u+=1)r[u]=Ue(Pe(n,f,u));const s=u=>E(r[u],1,1,()=>{r[u]=null});let a=n[6]&&Le(n);return{c(){e=B("div"),t=B("div");for(let u=0;u<r.length;u+=1)r[u].c();l=X(),a&&a.c(),this.h()},l(u){e=V(u,"DIV",{class:!0});var o=C(e);t=V(o,"DIV",{class:!0});var c=C(t);for(let m=0;m<r.length;m+=1)r[m].l(c);c.forEach(h),l=$(o),a&&a.l(o),o.forEach(h),this.h()},h(){z(t,"class","text-2xl"),z(e,"class","flex flex-col gap-4 items-center")},m(u,o){A(u,e,o),P(e,t);for(let c=0;c<r.length;c+=1)r[c].m(t,null);P(e,l),a&&a.m(e,null),i=!0},p(u,o){if(o[0]&127){f=u[4];let c;for(c=0;c<f.length;c+=1){const m=Pe(u,f,c);r[c]?(r[c].p(m,o),v(r[c],1)):(r[c]=Ue(m),r[c].c(),v(r[c],1),r[c].m(t,null))}for(fe(),c=f.length;c<r.length;c+=1)s(c);ue()}u[6]?a?(a.p(u,o),o[0]&64&&v(a,1)):(a=Le(u),a.c(),v(a,1),a.m(e,null)):a&&(fe(),E(a,1,1,()=>{a=null}),ue())},i(u){if(!i){for(let o=0;o<f.length;o+=1)v(r[o]);v(a),i=!0}},o(u){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)E(r[o]);E(a),i=!1},d(u){u&&h(e),ke(r,u),a&&a.d()}}}const Ge=n=>!n.taken;function En(n,e,t){let{data:l}=e,{dragItems:i}=e,f,r=null,{feedback:s=void 0}=e,{taskState:a}=e,{smallText:u=!1}=e,{justFinished:o}=e;pe(()=>{t(5,f=i),s&&s.items.forEach(q=>{f.map(de=>{de.id===q.itemId&&(de.taken=q.id)})})});const c=q=>q.taken===r;function m(q){u=q,t(2,u)}function p(q){u=q,t(2,u)}function _(q){u=q,t(2,u)}function b(q){u=q,t(2,u)}function d(q){u=q,t(2,u)}function T(q){f=q,t(5,f)}function I(q){s=q,t(0,s)}function w(q){a=q,t(1,a)}function g(q){u=q,t(2,u)}function D(q){o=q,t(3,o)}const N=q=>{t(6,r=q.detail)};function O(q){f=q,t(5,f)}function L(q){r=q,t(6,r)}function Q(q){s=q,t(0,s)}function k(q){a=q,t(1,a)}function M(q){u=q,t(2,u)}function x(q){o=q,t(3,o)}const te=(q,de,oe)=>{t(5,f=f.map(ge=>(ge.taken===r&&(ge.taken=void 0),ge))),t(5,de[oe].taken=r||void 0,f),t(6,r=null)},R=()=>{t(5,f=f.map(q=>(q.taken===r&&(q.taken=void 0),q))),t(6,r=null)};return n.$$set=q=>{"data"in q&&t(4,l=q.data),"dragItems"in q&&t(7,i=q.dragItems),"feedback"in q&&t(0,s=q.feedback),"taskState"in q&&t(1,a=q.taskState),"smallText"in q&&t(2,u=q.smallText),"justFinished"in q&&t(3,o=q.justFinished)},[s,a,u,o,l,f,r,i,c,m,p,_,b,d,T,I,w,g,D,N,O,L,Q,k,M,x,te,R]}class Nn extends ie{constructor(e){super(),se(this,e,En,Dn,re,{data:4,dragItems:7,feedback:0,taskState:1,smallText:2,justFinished:3},null,[-1,-1])}}function An(n){let e;return{c(){e=W("Aufgabe noch nicht angefangen.")},l(t){e=Y(t,"Aufgabe noch nicht angefangen.")},m(t,l){A(t,e,l)},d(t){t&&h(e)}}}function zn(n){let e;return{c(){e=W(`Aufgabe
					in Bearbeitung`)},l(t){e=Y(t,`Aufgabe
					in Bearbeitung`)},m(t,l){A(t,e,l)},d(t){t&&h(e)}}}function Mn(n){let e;return{c(){e=W(`Aufgabe
					falsch beantwortet`)},l(t){e=Y(t,`Aufgabe
					falsch beantwortet`)},m(t,l){A(t,e,l)},d(t){t&&h(e)}}}function Bn(n){let e;return{c(){e=W("Aufgabe erfolgreich beantwortet!")},l(t){e=Y(t,"Aufgabe erfolgreich beantwortet!")},m(t,l){A(t,e,l)},d(t){t&&h(e)}}}function Ke(n){let e,t;return{c(){e=B("p"),t=W("Drehen Sie ihr Ger\xE4t seitw\xE4rts, wenn der Inhalt nicht richtig angezeigt wird."),this.h()},l(l){e=V(l,"P",{class:!0});var i=C(e);t=Y(i,"Drehen Sie ihr Ger\xE4t seitw\xE4rts, wenn der Inhalt nicht richtig angezeigt wird."),i.forEach(h),this.h()},h(){z(e,"class","border-2 p-1 rounded-2xl text-center bg-sec-war-lgt dark:bg-sec-war-drk border-luh-bdr-lgt dark:border-luh-bdr-drk")},m(l,i){A(l,e,i),P(e,t)},d(l){l&&h(e)}}}function Vn(n){let e,t,l,i,f,r,s,a,u=n[18]&&Ke();t=new be({props:{data:n[1].questionText}});function o(_){n[10](_)}function c(_){n[11](_)}function m(_){n[12](_)}let p={data:n[1].dndText,dragItems:n[1].items,smallText:n[18]};return n[2]!==void 0&&(p.feedback=n[2]),n[0]!==void 0&&(p.taskState=n[0]),n[3]!==void 0&&(p.justFinished=n[3]),i=new Nn({props:p}),F.push(()=>y(i,"feedback",o)),F.push(()=>y(i,"taskState",c)),F.push(()=>y(i,"justFinished",m)),{c(){u&&u.c(),e=X(),H(t.$$.fragment),l=X(),H(i.$$.fragment)},l(_){u&&u.l(_),e=$(_),Z(t.$$.fragment,_),l=$(_),Z(i.$$.fragment,_)},m(_,b){u&&u.m(_,b),A(_,e,b),G(t,_,b),A(_,l,b),G(i,_,b),a=!0},p(_,b){_[18]?u||(u=Ke(),u.c(),u.m(e.parentNode,e)):u&&(u.d(1),u=null);const d={};b&2&&(d.data=_[1].questionText),t.$set(d);const T={};b&2&&(T.data=_[1].dndText),b&2&&(T.dragItems=_[1].items),b&262144&&(T.smallText=_[18]),!f&&b&4&&(f=!0,T.feedback=_[2],j(()=>f=!1)),!r&&b&1&&(r=!0,T.taskState=_[0],j(()=>r=!1)),!s&&b&8&&(s=!0,T.justFinished=_[3],j(()=>s=!1)),i.$set(T)},i(_){a||(v(t.$$.fragment,_),v(i.$$.fragment,_),a=!0)},o(_){E(t.$$.fragment,_),E(i.$$.fragment,_),a=!1},d(_){u&&u.d(_),_&&h(e),K(t,_),_&&h(l),K(i,_)}}}function qn(n){let e,t,l,i,f,r;return{c(){e=B("div"),t=X(),l=B("button"),i=W("N\xE4chste Frage"),this.h()},l(s){e=V(s,"DIV",{}),C(e).forEach(h),t=$(s),l=V(s,"BUTTON",{class:!0});var a=C(l);i=Y(a,"N\xE4chste Frage"),a.forEach(h),this.h()},h(){z(l,"class","bg-luh-acc-lgt dark:bg-luh-acc-drk hover:bg-luh-acc-hgl-lgt hover:dark:bg-luh-acc-hgl-drk p-2 rounded-2xl")},m(s,a){A(s,e,a),A(s,t,a),A(s,l,a),P(l,i),f||(r=le(l,"click",n[5]),f=!0)},p:ee,d(s){s&&h(e),s&&h(t),s&&h(l),f=!1,r()}}}function Cn(n){let e,t,l,i,f;function r(u,o){return u[3]?Un:Pn}let s=r(n),a=s(n);return{c(){a.c(),e=X(),t=B("button"),l=W("N\xE4chste Frage"),this.h()},l(u){a.l(u),e=$(u),t=V(u,"BUTTON",{class:!0});var o=C(t);l=Y(o,"N\xE4chste Frage"),o.forEach(h),this.h()},h(){z(t,"class","bg-luh-acc-lgt dark:bg-luh-acc-drk hover:bg-luh-acc-hgl-lgt hover:dark:bg-luh-acc-hgl-drk p-2 rounded-2xl")},m(u,o){a.m(u,o),A(u,e,o),A(u,t,o),P(t,l),i||(f=le(t,"click",n[5]),i=!0)},p(u,o){s===(s=r(u))&&a?a.p(u,o):(a.d(1),a=s(u),a&&(a.c(),a.m(e.parentNode,e)))},d(u){a.d(u),u&&h(e),u&&h(t),i=!1,f()}}}function On(n){let e,t,l,i,f,r,s;return{c(){e=B("button"),t=W("N\xE4chste Frage"),l=X(),i=B("button"),f=W("Abgeben"),this.h()},l(a){e=V(a,"BUTTON",{class:!0});var u=C(e);t=Y(u,"N\xE4chste Frage"),u.forEach(h),l=$(a),i=V(a,"BUTTON",{class:!0});var o=C(i);f=Y(o,"Abgeben"),o.forEach(h),this.h()},h(){z(e,"class","bg-luh-acc-lgt dark:bg-luh-acc-drk hover:bg-luh-acc-hgl-lgt hover:dark:bg-luh-acc-hgl-drk p-2 rounded-2xl"),z(i,"class","bg-luh-acc-lgt dark:bg-luh-acc-drk hover:bg-luh-acc-hgl-lgt hover:dark:bg-luh-acc-hgl-drk p-2 rounded-2xl")},m(a,u){A(a,e,u),P(e,t),A(a,l,u),A(a,i,u),P(i,f),r||(s=[le(e,"click",n[6]),le(i,"click",n[4])],r=!0)},p:ee,d(a){a&&h(e),a&&h(l),a&&h(i),r=!1,De(s)}}}function Pn(n){let e,t,l,i;return{c(){e=B("button"),t=W("Aufgabe zur\xFCcksetzen"),this.h()},l(f){e=V(f,"BUTTON",{class:!0});var r=C(e);t=Y(r,"Aufgabe zur\xFCcksetzen"),r.forEach(h),this.h()},h(){z(e,"class","bg-luh-acc-lgt dark:bg-luh-acc-drk hover:bg-luh-acc-hgl-lgt hover:dark:bg-luh-acc-hgl-drk p-2 rounded-2xl")},m(f,r){A(f,e,r),P(e,t),l||(i=le(e,"click",n[7]),l=!0)},p:ee,d(f){f&&h(e),l=!1,i()}}}function Un(n){let e;return{c(){e=B("div")},l(t){e=V(t,"DIV",{}),C(e).forEach(h)},m(t,l){A(t,e,l)},p:ee,d(t){t&&h(e)}}}function Ln(n){let e,t,l,i,f,r,s,a,u,o,c,m,p;function _(g,D){if(g[0]==="success")return Bn;if(g[0]==="fail")return Mn;if(g[0]==="warning"||g[0]==="inprogress")return zn;if(g[0]==="notstarted")return An}let b=_(n),d=b&&b(n);r=new Ee({props:{value:"Zuordnungsaufgabe"}}),o=new Ne({props:{query:"(max-width: 767px) and (orientation: portrait)",$$slots:{default:[Vn,({matches:g})=>({18:g}),({matches:g})=>g?262144:0]},$$scope:{ctx:n}}});function T(g,D){if(g[0]!=="success"&&g[0]!=="fail")return On;if(g[0]==="fail")return Cn;if(g[0]==="success")return qn}let I=T(n),w=I&&I(n);return{c(){e=B("div"),t=B("div"),l=B("h3"),d&&d.c(),i=X(),f=B("div"),H(r.$$.fragment),a=X(),u=B("div"),H(o.$$.fragment),c=X(),m=B("div"),w&&w.c(),this.h()},l(g){e=V(g,"DIV",{class:!0});var D=C(e);t=V(D,"DIV",{class:!0});var N=C(t);l=V(N,"H3",{});var O=C(l);d&&d.l(O),O.forEach(h),i=$(N),f=V(N,"DIV",{class:!0});var L=C(f);Z(r.$$.fragment,L),L.forEach(h),N.forEach(h),a=$(D),u=V(D,"DIV",{class:!0});var Q=C(u);Z(o.$$.fragment,Q),c=$(Q),m=V(Q,"DIV",{class:!0});var k=C(m);w&&w.l(k),k.forEach(h),Q.forEach(h),D.forEach(h),this.h()},h(){z(f,"class","md:h-12 flex flex-col justify-center pr-2 md:z-10 md:absolute md:top-0 md:right-0"),z(t,"class",s="relative px-4 py-2 md:h-12 rounded-t-2xl md:col-span-2 flex flex-col gap-2 items-center justify-center border-b-2 border-luh-bdr-lgt dark:border-luh-bdr-drk"+(n[0]==="success"?" bg-sec-suc-lgt dark:bg-sec-suc-drk":"")+(n[0]==="fail"?" bg-sec-fal-lgt dark:bg-sec-fal-drk":"")),z(m,"class","flex flex-row justify-between items-center w-full"),z(u,"class","px-4 py-2 flex flex-col items-center gap-4"),z(e,"class","flex flex-col")},m(g,D){A(g,e,D),P(e,t),P(t,l),d&&d.m(l,null),P(t,i),P(t,f),G(r,f,null),P(e,a),P(e,u),G(o,u,null),P(u,c),P(u,m),w&&w.m(m,null),p=!0},p(g,D){b!==(b=_(g))&&(d&&d.d(1),d=b&&b(g),d&&(d.c(),d.m(l,null))),(!p||D&1&&s!==(s="relative px-4 py-2 md:h-12 rounded-t-2xl md:col-span-2 flex flex-col gap-2 items-center justify-center border-b-2 border-luh-bdr-lgt dark:border-luh-bdr-drk"+(g[0]==="success"?" bg-sec-suc-lgt dark:bg-sec-suc-drk":"")+(g[0]==="fail"?" bg-sec-fal-lgt dark:bg-sec-fal-drk":"")))&&z(t,"class",s);const N={};D&786447&&(N.$$scope={dirty:D,ctx:g}),o.$set(N),I===(I=T(g))&&w?w.p(g,D):(w&&w.d(1),w=I&&I(g),w&&(w.c(),w.m(m,null)))},i(g){p||(v(r.$$.fragment,g),v(o.$$.fragment,g),p=!0)},o(g){E(r.$$.fragment,g),E(o.$$.fragment,g),p=!1},d(g){g&&h(e),d&&d.d(),K(r),K(o),w&&w.d()}}}function Hn(n){let e,t;return e=new Ie({props:{padding:{type:"global",value:0},$$slots:{default:[Ln]},$$scope:{ctx:n}}}),{c(){H(e.$$.fragment)},l(l){Z(e.$$.fragment,l)},m(l,i){G(e,l,i),t=!0},p(l,[i]){const f={};i&524303&&(f.$$scope={dirty:i,ctx:l}),e.$set(f)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){E(e.$$.fragment,l),t=!1},d(l){K(e,l)}}}function Zn(n,e,t){let{data:l}=e,{taskState:i}=e,{taskFeedback:f}=e,{version:r}=e,s=f,a=!1,u;const o=g=>{let D=g.filter(N=>N.type==="dropZone");return D=D.concat(g.filter(N=>N.type==="dndMath").flatMap(N=>{if(N.mathData.type==="dropZone")return[N.mathData];if(N.mathData.type==="dndMathFraction")return o([{type:"dndMath",mathData:N.mathData.denominator}]).concat(o([{type:"dndMath",mathData:N.mathData.numerator}]));if(N.mathData.type==="dndMathOperation")return o([{type:"dndMath",mathData:N.mathData.left}]).concat(o([{type:"dndMath",mathData:N.mathData.right}]));if(N.mathData.type==="dndMathSuperSubSet"){let O=o([{type:"dndMath",mathData:N.mathData.main}]);return N.mathData.superscript&&(O=O.concat(o([{type:"dndMath",mathData:N.mathData.superscript}]))),N.mathData.subscript&&(O=O.concat(o([{type:"dndMath",mathData:N.mathData.subscript}]))),O}else return[]})),D},c=()=>{const g=o(l.dndText),D=l.items.filter(N=>N.taken).flatMap(N=>{const O=g.find(L=>L.id===N.taken);return O?[{id:O.id,correct:O.correctItemIds.includes(N.id),itemId:N.id}]:[]});t(2,s={type:"dragAndDrop",correct:D.reduce((N,O)=>N&&O.correct,!0),items:D,timestamp:Math.floor(Date.now()/1e3),duration:Math.floor(Date.now()/1e3)-u,forVersion:r}),t(3,a=!0),t(0,i=s.correct?"success":"fail"),t(8,f=s),_(f)},m=ve(),p=()=>{m("next")},_=g=>{t(0,i=g.correct?"success":"fail"),m("finish",g)},b=()=>{m("skip")},d=async()=>{m("reset")};pe(()=>{u=Math.floor(Date.now()/1e3)});function T(g){s=g,t(2,s)}function I(g){i=g,t(0,i)}function w(g){a=g,t(3,a)}return n.$$set=g=>{"data"in g&&t(1,l=g.data),"taskState"in g&&t(0,i=g.taskState),"taskFeedback"in g&&t(8,f=g.taskFeedback),"version"in g&&t(9,r=g.version)},n.$$.update=()=>{n.$$.dirty&2&&console.log(l)},[i,l,s,a,c,p,b,d,f,r,T,I,w]}class Gn extends ie{constructor(e){super(),se(this,e,Zn,Hn,re,{data:1,taskState:0,taskFeedback:8,version:9})}}function Je(n,e,t){const l=n.slice();return l[19]=e[t],l[21]=t,l}function Kn(n){let e;return{c(){e=W("Aufgabe noch nicht angefangen.")},l(t){e=Y(t,"Aufgabe noch nicht angefangen.")},m(t,l){A(t,e,l)},d(t){t&&h(e)}}}function Jn(n){let e;return{c(){e=W(`Aufgabe
					in Bearbeitung`)},l(t){e=Y(t,`Aufgabe
					in Bearbeitung`)},m(t,l){A(t,e,l)},d(t){t&&h(e)}}}function Qn(n){let e;return{c(){e=W(`Aufgabe
					falsch beantwortet`)},l(t){e=Y(t,`Aufgabe
					falsch beantwortet`)},m(t,l){A(t,e,l)},d(t){t&&h(e)}}}function Rn(n){let e;return{c(){e=W("Aufgabe erfolgreich beantwortet!")},l(t){e=Y(t,"Aufgabe erfolgreich beantwortet!")},m(t,l){A(t,e,l)},d(t){t&&h(e)}}}function Qe(n){let e,t,l,i,f;return{c(){e=B("div"),t=B("input"),this.h()},l(r){e=V(r,"DIV",{});var s=C(e);t=V(s,"INPUT",{type:!0,id:!0,class:!0}),s.forEach(h),this.h()},h(){z(t,"type","radio"),t.__value=n[21],t.value=t.__value,z(t,"id",`sc-${n[21]}`),z(t,"class",l=(n[3]?"pointer-events-none ":"")+"form-check-input h-6 w-6 appearance-none rounded-full border-2 border-luh-bdr-lgt dark:border-luh-bdr-drk bg-luh-pri-lgt dark:bg-luh-pri-drk checked:bg-luh-acc-lgt dark:checked:bg-luh-acc-drk focus:outline-none transition duration-300 bg-no-repeat bg-center"),n[13][0].push(t)},m(r,s){A(r,e,s),P(e,t),t.checked=t.__value===n[2],i||(f=le(t,"change",n[12]),i=!0)},p(r,s){s&8&&l!==(l=(r[3]?"pointer-events-none ":"")+"form-check-input h-6 w-6 appearance-none rounded-full border-2 border-luh-bdr-lgt dark:border-luh-bdr-drk bg-luh-pri-lgt dark:bg-luh-pri-drk checked:bg-luh-acc-lgt dark:checked:bg-luh-acc-drk focus:outline-none transition duration-300 bg-no-repeat bg-center")&&z(t,"class",l),s&4&&(t.checked=t.__value===r[2])},d(r){r&&h(e),n[13][0].splice(n[13][0].indexOf(t),1),i=!1,f()}}}function Re(n){let e,t,l,i,f,r;l=new be({props:{data:n[19].text}});let s=(n[0]!=="success"&&n[0]!=="fail"||n[3])&&Qe(n);return{c(){e=B("label"),t=B("div"),H(l.$$.fragment),i=X(),s&&s.c(),this.h()},l(a){e=V(a,"LABEL",{for:!0,class:!0});var u=C(e);t=V(u,"DIV",{class:!0});var o=C(t);Z(l.$$.fragment,o),o.forEach(h),i=$(u),s&&s.l(u),u.forEach(h),this.h()},h(){z(t,"class","grow"),z(e,"for",`sc-${n[21]}`),z(e,"class",f="px-4 py-2 flex flex-row"+(n[21]%2==0?" md:border-r-2":"")+" border-luh-bdr-lgt dark:border-luh-bdr-drk"+n[5](n[21],n[0])+" justify-between items-center border-t-2"+(n[3]?" pointer-events-none":""))},m(a,u){A(a,e,u),P(e,t),G(l,t,null),P(e,i),s&&s.m(e,null),r=!0},p(a,u){a[0]!=="success"&&a[0]!=="fail"||a[3]?s?s.p(a,u):(s=Qe(a),s.c(),s.m(e,null)):s&&(s.d(1),s=null),(!r||u&9&&f!==(f="px-4 py-2 flex flex-row"+(a[21]%2==0?" md:border-r-2":"")+" border-luh-bdr-lgt dark:border-luh-bdr-drk"+a[5](a[21],a[0])+" justify-between items-center border-t-2"+(a[3]?" pointer-events-none":"")))&&z(e,"class",f)},i(a){r||(v(l.$$.fragment,a),r=!0)},o(a){E(l.$$.fragment,a),r=!1},d(a){a&&h(e),K(l),s&&s.d()}}}function We(n){let e;return{c(){e=B("div"),this.h()},l(t){e=V(t,"DIV",{class:!0}),C(e).forEach(h),this.h()},h(){z(e,"class","px-4 py-2 flex flex-row justify-between items-center border-t-2 border-luh-bdr-lgt dark:border-luh-bdr-drk")},m(t,l){A(t,e,l)},d(t){t&&h(e)}}}function Wn(n){let e,t=n[4].length%2===1&&n[18]&&We();return{c(){t&&t.c(),e=ne()},l(l){t&&t.l(l),e=ne()},m(l,i){t&&t.m(l,i),A(l,e,i)},p(l,i){l[4].length%2===1&&l[18]?t||(t=We(),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(l){t&&t.d(l),l&&h(e)}}}function Yn(n){let e,t,l,i,f,r;return{c(){e=B("div"),t=X(),l=B("button"),i=W("N\xE4chste Frage"),this.h()},l(s){e=V(s,"DIV",{}),C(e).forEach(h),t=$(s),l=V(s,"BUTTON",{class:!0});var a=C(l);i=Y(a,"N\xE4chste Frage"),a.forEach(h),this.h()},h(){z(l,"class","bg-luh-acc-lgt dark:bg-luh-acc-drk hover:bg-luh-acc-hgl-lgt hover:dark:bg-luh-acc-hgl-drk p-2 rounded-2xl")},m(s,a){A(s,e,a),A(s,t,a),A(s,l,a),P(l,i),f||(r=le(l,"click",n[7]),f=!0)},p:ee,d(s){s&&h(e),s&&h(t),s&&h(l),f=!1,r()}}}function Xn(n){let e,t,l,i,f;function r(u,o){return u[3]?el:xn}let s=r(n),a=s(n);return{c(){a.c(),e=X(),t=B("button"),l=W("N\xE4chste Frage"),this.h()},l(u){a.l(u),e=$(u),t=V(u,"BUTTON",{class:!0});var o=C(t);l=Y(o,"N\xE4chste Frage"),o.forEach(h),this.h()},h(){z(t,"class","bg-luh-acc-lgt dark:bg-luh-acc-drk hover:bg-luh-acc-hgl-lgt hover:dark:bg-luh-acc-hgl-drk p-2 rounded-2xl")},m(u,o){a.m(u,o),A(u,e,o),A(u,t,o),P(t,l),i||(f=le(t,"click",n[7]),i=!0)},p(u,o){s===(s=r(u))&&a?a.p(u,o):(a.d(1),a=s(u),a&&(a.c(),a.m(e.parentNode,e)))},d(u){a.d(u),u&&h(e),u&&h(t),i=!1,f()}}}function $n(n){let e,t,l,i,f,r,s;return{c(){e=B("button"),t=W("N\xE4chste Frage"),l=X(),i=B("button"),f=W("Abgeben"),this.h()},l(a){e=V(a,"BUTTON",{class:!0});var u=C(e);t=Y(u,"N\xE4chste Frage"),u.forEach(h),l=$(a),i=V(a,"BUTTON",{class:!0});var o=C(i);f=Y(o,"Abgeben"),o.forEach(h),this.h()},h(){z(e,"class","bg-luh-acc-lgt dark:bg-luh-acc-drk hover:bg-luh-acc-hgl-lgt hover:dark:bg-luh-acc-hgl-drk p-2 rounded-2xl"),z(i,"class","bg-luh-acc-lgt dark:bg-luh-acc-drk hover:bg-luh-acc-hgl-lgt hover:dark:bg-luh-acc-hgl-drk p-2 rounded-2xl")},m(a,u){A(a,e,u),P(e,t),A(a,l,u),A(a,i,u),P(i,f),r||(s=[le(e,"click",n[8]),le(i,"click",n[6])],r=!0)},p:ee,d(a){a&&h(e),a&&h(l),a&&h(i),r=!1,De(s)}}}function xn(n){let e,t,l,i;return{c(){e=B("button"),t=W("Aufgabe zur\xFCcksetzen"),this.h()},l(f){e=V(f,"BUTTON",{class:!0});var r=C(e);t=Y(r,"Aufgabe zur\xFCcksetzen"),r.forEach(h),this.h()},h(){z(e,"class","bg-luh-acc-lgt dark:bg-luh-acc-drk hover:bg-luh-acc-hgl-lgt hover:dark:bg-luh-acc-hgl-drk p-2 rounded-2xl")},m(f,r){A(f,e,r),P(e,t),l||(i=le(e,"click",n[9]),l=!0)},p:ee,d(f){f&&h(e),l=!1,i()}}}function el(n){let e;return{c(){e=B("div")},l(t){e=V(t,"DIV",{}),C(e).forEach(h)},m(t,l){A(t,e,l)},p:ee,d(t){t&&h(e)}}}function tl(n){let e,t,l,i,f,r,s,a,u,o,c,m,p,_,b,d;function T(k,M){if(k[0]==="success")return Rn;if(k[0]==="fail")return Qn;if(k[0]==="warning"||k[0]==="inprogress")return Jn;if(k[0]==="notstarted")return Kn}let I=T(n),w=I&&I(n);r=new Ee({props:{value:"Single Choice Aufgabe"}}),o=new be({props:{data:n[1].questionText}});let g=n[4],D=[];for(let k=0;k<g.length;k+=1)D[k]=Re(Je(n,g,k));const N=k=>E(D[k],1,1,()=>{D[k]=null});p=new Ne({props:{query:"(min-width: 768px)",$$slots:{default:[Wn,({matches:k})=>({18:k}),({matches:k})=>k?262144:0]},$$scope:{ctx:n}}});function O(k,M){if(k[0]!=="success"&&k[0]!=="fail")return $n;if(k[0]==="fail")return Xn;if(k[0]==="success")return Yn}let L=O(n),Q=L&&L(n);return{c(){e=B("div"),t=B("div"),l=B("h3"),w&&w.c(),i=X(),f=B("div"),H(r.$$.fragment),a=X(),u=B("div"),H(o.$$.fragment),c=X();for(let k=0;k<D.length;k+=1)D[k].c();m=X(),H(p.$$.fragment),_=X(),b=B("div"),Q&&Q.c(),this.h()},l(k){e=V(k,"DIV",{class:!0});var M=C(e);t=V(M,"DIV",{class:!0});var x=C(t);l=V(x,"H3",{class:!0});var te=C(l);w&&w.l(te),te.forEach(h),i=$(x),f=V(x,"DIV",{class:!0});var R=C(f);Z(r.$$.fragment,R),R.forEach(h),x.forEach(h),a=$(M),u=V(M,"DIV",{class:!0});var q=C(u);Z(o.$$.fragment,q),q.forEach(h),c=$(M);for(let oe=0;oe<D.length;oe+=1)D[oe].l(M);m=$(M),Z(p.$$.fragment,M),_=$(M),b=V(M,"DIV",{class:!0});var de=C(b);Q&&Q.l(de),de.forEach(h),M.forEach(h),this.h()},h(){z(l,"class","w-full text-center"),z(f,"class","z-10 absolute h-12 flex flex-col justify-center pr-2 top-0 right-0"),z(t,"class",s="relative px-4 py-2 h-12 rounded-t-2xl md:col-span-2 flex flex-col justify-center border-b-2 border-luh-bdr-lgt dark:border-luh-bdr-drk"+(n[0]==="success"?" bg-sec-suc-lgt dark:bg-sec-suc-drk":"")+(n[0]==="fail"?" bg-sec-fal-lgt dark:bg-sec-fal-drk":"")),z(u,"class","px-4 py-2 md:col-span-2 flex flex-col"),z(b,"class","border-t-2 border-luh-bdr-lgt dark:border-luh-bdr-drk flex flex-row justify-between px-4 py-2 md:col-span-2"),z(e,"class","grid grid-cols-1 md:grid-cols-2")},m(k,M){A(k,e,M),P(e,t),P(t,l),w&&w.m(l,null),P(t,i),P(t,f),G(r,f,null),P(e,a),P(e,u),G(o,u,null),P(e,c);for(let x=0;x<D.length;x+=1)D[x].m(e,null);P(e,m),G(p,e,null),P(e,_),P(e,b),Q&&Q.m(b,null),d=!0},p(k,M){I!==(I=T(k))&&(w&&w.d(1),w=I&&I(k),w&&(w.c(),w.m(l,null))),(!d||M&1&&s!==(s="relative px-4 py-2 h-12 rounded-t-2xl md:col-span-2 flex flex-col justify-center border-b-2 border-luh-bdr-lgt dark:border-luh-bdr-drk"+(k[0]==="success"?" bg-sec-suc-lgt dark:bg-sec-suc-drk":"")+(k[0]==="fail"?" bg-sec-fal-lgt dark:bg-sec-fal-drk":"")))&&z(t,"class",s);const x={};if(M&2&&(x.data=k[1].questionText),o.$set(x),M&61){g=k[4];let R;for(R=0;R<g.length;R+=1){const q=Je(k,g,R);D[R]?(D[R].p(q,M),v(D[R],1)):(D[R]=Re(q),D[R].c(),v(D[R],1),D[R].m(e,m))}for(fe(),R=g.length;R<D.length;R+=1)N(R);ue()}const te={};M&4456448&&(te.$$scope={dirty:M,ctx:k}),p.$set(te),L===(L=O(k))&&Q?Q.p(k,M):(Q&&Q.d(1),Q=L&&L(k),Q&&(Q.c(),Q.m(b,null)))},i(k){if(!d){v(r.$$.fragment,k),v(o.$$.fragment,k);for(let M=0;M<g.length;M+=1)v(D[M]);v(p.$$.fragment,k),d=!0}},o(k){E(r.$$.fragment,k),E(o.$$.fragment,k),D=D.filter(Boolean);for(let M=0;M<D.length;M+=1)E(D[M]);E(p.$$.fragment,k),d=!1},d(k){k&&h(e),w&&w.d(),K(r),K(o),ke(D,k),K(p),Q&&Q.d()}}}function nl(n){let e,t;return e=new Ie({props:{padding:{type:"global",value:0},$$slots:{default:[tl]},$$scope:{ctx:n}}}),{c(){H(e.$$.fragment)},l(l){Z(e.$$.fragment,l)},m(l,i){G(e,l,i),t=!0},p(l,[i]){const f={};i&4194319&&(f.$$scope={dirty:i,ctx:l}),e.$set(f)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){E(e.$$.fragment,l),t=!1},d(l){K(e,l)}}}function ll(n,e,t){let{data:l}=e,{taskState:i}=e,{taskFeedback:f}=e,{version:r}=e,s=0,a=!1,u,o=l.incorrectAnswers.concat(l.correctAnswer).map(g=>({data:g,key:Math.random()})).sort((g,D)=>g.key-D.key).map(({data:g})=>g);const c=(g,D)=>a?o[g].correct?" bg-sec-suc-lgt dark:bg-sec-suc-drk":g===s?" bg-sec-fal-lgt dark:bg-sec-fal-drk":"":" hover:bg-luh-pri-hgl-lgt hover:dark:bg-luh-pri-hgl-drk transition-colors duration-300",m=()=>{const g={correct:s===o.findIndex(D=>D.correct),type:"singleChoice",selectedId:o[s].id,correctId:o.find(D=>D.correct).id,timestamp:Math.floor(Date.now()/1e3),duration:Math.floor(Date.now()/1e3)-u,forVersion:r};t(3,a=!0),t(0,i=g.correct?"success":"fail"),b(g)},p=ve(),_=()=>{p("next")},b=g=>{t(0,i=g.correct?"success":"fail"),p("finish",g)},d=()=>{p("skip")},T=async()=>{p("reset")};pe(()=>{u=Math.floor(Date.now()/1e3)});const I=[[]];function w(){s=this.__value,t(2,s)}return n.$$set=g=>{"data"in g&&t(1,l=g.data),"taskState"in g&&t(0,i=g.taskState),"taskFeedback"in g&&t(10,f=g.taskFeedback),"version"in g&&t(11,r=g.version)},[i,l,s,a,o,c,m,_,d,T,f,r,w,I]}class rl extends ie{constructor(e){super(),se(this,e,ll,nl,re,{data:1,taskState:0,taskFeedback:10,version:11})}}const Te=async(n,e,t,l,i)=>{try{const f=await me.task.where(["cID","lID","qID"]).equals([n,e,t]).first();if(!f)return{status:"error",error:{title:"Not found",description:"Task not found",code:"object/notfound"}};if(l!==f.status){const r=await me.lesson.where(["cID","lID"]).equals([n,e]).first(),s=await me.course.where("cID").equals(n).first();if(!r)return{status:"error",error:{title:"Not found",description:"Lesson not found",code:"object/notfound"}};if(!s)return{status:"error",error:{title:"Not found",description:"Course not found",code:"object/notfound"}};l==="success"&&f.status!=="success"?(await me.lesson.update(r,{progressCurrent:r.progressCurrent+1}),await me.course.update(s,{progressCurrent:s.progressCurrent+1})):l!=="success"&&f.status==="success"&&(await me.lesson.update(r,{progressCurrent:r.progressCurrent-1}),await me.course.update(s,{progressCurrent:s.progressCurrent-1}))}if(alert("s"),i)if(i.type===f.data.type){const r=await me.taskProgress.where(["cID","lID","qID"]).equals([n,e,t]).first();r?await me.taskProgress.update(r,{feedback:r.feedback.concat(i),pending:r.pending.concat(r.feedback.length)}):await me.taskProgress.add({cID:n,lID:e,qID:t,feedback:[i],status:l,pending:[0]})}else return{status:"error",error:{title:"Invalid data",description:"Feedback type does not match task type",code:"object/invalid"}};return await me.task.update(f,{status:l}),{status:"ok"}}catch{return{status:"error",error:{title:"Error",description:"An error occured"}}}};function Ye(n,e,t){const l=n.slice();return l[18]=e[t],l[19]=e,l[20]=t,l}function al(n){let e;return{c(){e=W("Aufgabe noch nicht angefangen.")},l(t){e=Y(t,"Aufgabe noch nicht angefangen.")},m(t,l){A(t,e,l)},d(t){t&&h(e)}}}function il(n){let e;return{c(){e=W(`Aufgabe
					in Bearbeitung`)},l(t){e=Y(t,`Aufgabe
					in Bearbeitung`)},m(t,l){A(t,e,l)},d(t){t&&h(e)}}}function sl(n){let e;return{c(){e=W(`Aufgabe
					falsch beantwortet`)},l(t){e=Y(t,`Aufgabe
					falsch beantwortet`)},m(t,l){A(t,e,l)},d(t){t&&h(e)}}}function fl(n){let e;return{c(){e=W("Aufgabe erfolgreich beantwortet!")},l(t){e=Y(t,"Aufgabe erfolgreich beantwortet!")},m(t,l){A(t,e,l)},d(t){t&&h(e)}}}function Xe(n){let e,t,l,i,f;function r(){n[12].call(t,n[20])}return{c(){e=B("div"),t=B("input"),this.h()},l(s){e=V(s,"DIV",{});var a=C(e);t=V(a,"INPUT",{type:!0,id:!0,class:!0}),a.forEach(h),this.h()},h(){z(t,"type","checkbox"),t.__value=n[20],t.value=t.__value,z(t,"id",`sc-${n[20]}`),z(t,"class",l=(n[3]?"pointer-events-none ":"")+"form-check-input h-6 w-6 appearance-none rounded-lg border-2 border-luh-bdr-lgt dark:border-luh-bdr-drk bg-luh-pri-lgt dark:bg-luh-pri-drk checked:bg-luh-acc-hgl-lgt dark:checked:bg-luh-acc-hgl-drk focus:outline-none transition duration-300 bg-no-repeat bg-center")},m(s,a){A(s,e,a),P(e,t),t.checked=n[2][n[20]],i||(f=le(t,"change",r),i=!0)},p(s,a){n=s,a&8&&l!==(l=(n[3]?"pointer-events-none ":"")+"form-check-input h-6 w-6 appearance-none rounded-lg border-2 border-luh-bdr-lgt dark:border-luh-bdr-drk bg-luh-pri-lgt dark:bg-luh-pri-drk checked:bg-luh-acc-hgl-lgt dark:checked:bg-luh-acc-hgl-drk focus:outline-none transition duration-300 bg-no-repeat bg-center")&&z(t,"class",l),a&4&&(t.checked=n[2][n[20]])},d(s){s&&h(e),i=!1,f()}}}function $e(n){let e,t,l,i,f,r;l=new be({props:{data:n[18].text}});let s=(n[0]!=="success"&&n[0]!=="fail"||n[3])&&Xe(n);return{c(){e=B("label"),t=B("div"),H(l.$$.fragment),i=X(),s&&s.c(),this.h()},l(a){e=V(a,"LABEL",{for:!0,class:!0});var u=C(e);t=V(u,"DIV",{class:!0});var o=C(t);Z(l.$$.fragment,o),o.forEach(h),i=$(u),s&&s.l(u),u.forEach(h),this.h()},h(){z(t,"class","grow"),z(e,"for",`sc-${n[20]}`),z(e,"class",f="px-4 py-2 flex flex-row"+(n[20]%2==0?" md:border-r-2":"")+" border-luh-bdr-lgt dark:border-luh-bdr-drk"+n[5](n[20],n[0])+" justify-between items-center border-t-2"+(n[3]?" pointer-events-none":""))},m(a,u){A(a,e,u),P(e,t),G(l,t,null),P(e,i),s&&s.m(e,null),r=!0},p(a,u){a[0]!=="success"&&a[0]!=="fail"||a[3]?s?s.p(a,u):(s=Xe(a),s.c(),s.m(e,null)):s&&(s.d(1),s=null),(!r||u&9&&f!==(f="px-4 py-2 flex flex-row"+(a[20]%2==0?" md:border-r-2":"")+" border-luh-bdr-lgt dark:border-luh-bdr-drk"+a[5](a[20],a[0])+" justify-between items-center border-t-2"+(a[3]?" pointer-events-none":"")))&&z(e,"class",f)},i(a){r||(v(l.$$.fragment,a),r=!0)},o(a){E(l.$$.fragment,a),r=!1},d(a){a&&h(e),K(l),s&&s.d()}}}function xe(n){let e;return{c(){e=B("div"),this.h()},l(t){e=V(t,"DIV",{class:!0}),C(e).forEach(h),this.h()},h(){z(e,"class","px-4 py-2 flex flex-row justify-between items-center border-t-2 border-luh-bdr-lgt dark:border-luh-bdr-drk")},m(t,l){A(t,e,l)},d(t){t&&h(e)}}}function ul(n){let e,t=n[4].length%2===1&&n[17]&&xe();return{c(){t&&t.c(),e=ne()},l(l){t&&t.l(l),e=ne()},m(l,i){t&&t.m(l,i),A(l,e,i)},p(l,i){l[4].length%2===1&&l[17]?t||(t=xe(),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(l){t&&t.d(l),l&&h(e)}}}function dl(n){let e,t,l,i,f,r;return{c(){e=B("div"),t=X(),l=B("button"),i=W("N\xE4chste Frage"),this.h()},l(s){e=V(s,"DIV",{}),C(e).forEach(h),t=$(s),l=V(s,"BUTTON",{class:!0});var a=C(l);i=Y(a,"N\xE4chste Frage"),a.forEach(h),this.h()},h(){z(l,"class","bg-luh-acc-lgt dark:bg-luh-acc-drk hover:bg-luh-acc-hgl-lgt hover:dark:bg-luh-acc-hgl-drk p-2 rounded-2xl")},m(s,a){A(s,e,a),A(s,t,a),A(s,l,a),P(l,i),f||(r=le(l,"click",n[7]),f=!0)},p:ee,d(s){s&&h(e),s&&h(t),s&&h(l),f=!1,r()}}}function ol(n){let e,t,l,i,f;function r(u,o){return u[3]?_l:hl}let s=r(n),a=s(n);return{c(){a.c(),e=X(),t=B("button"),l=W("N\xE4chste Frage"),this.h()},l(u){a.l(u),e=$(u),t=V(u,"BUTTON",{class:!0});var o=C(t);l=Y(o,"N\xE4chste Frage"),o.forEach(h),this.h()},h(){z(t,"class","bg-luh-acc-lgt dark:bg-luh-acc-drk hover:bg-luh-acc-hgl-lgt hover:dark:bg-luh-acc-hgl-drk p-2 rounded-2xl")},m(u,o){a.m(u,o),A(u,e,o),A(u,t,o),P(t,l),i||(f=le(t,"click",n[7]),i=!0)},p(u,o){s===(s=r(u))&&a?a.p(u,o):(a.d(1),a=s(u),a&&(a.c(),a.m(e.parentNode,e)))},d(u){a.d(u),u&&h(e),u&&h(t),i=!1,f()}}}function cl(n){let e,t,l,i,f,r,s;return{c(){e=B("button"),t=W("N\xE4chste Frage"),l=X(),i=B("button"),f=W("Abgeben"),this.h()},l(a){e=V(a,"BUTTON",{class:!0});var u=C(e);t=Y(u,"N\xE4chste Frage"),u.forEach(h),l=$(a),i=V(a,"BUTTON",{class:!0});var o=C(i);f=Y(o,"Abgeben"),o.forEach(h),this.h()},h(){z(e,"class","bg-luh-acc-lgt dark:bg-luh-acc-drk hover:bg-luh-acc-hgl-lgt hover:dark:bg-luh-acc-hgl-drk p-2 rounded-2xl"),z(i,"class","bg-luh-acc-lgt dark:bg-luh-acc-drk hover:bg-luh-acc-hgl-lgt hover:dark:bg-luh-acc-hgl-drk p-2 rounded-2xl")},m(a,u){A(a,e,u),P(e,t),A(a,l,u),A(a,i,u),P(i,f),r||(s=[le(e,"click",n[8]),le(i,"click",n[6])],r=!0)},p:ee,d(a){a&&h(e),a&&h(l),a&&h(i),r=!1,De(s)}}}function hl(n){let e,t,l,i;return{c(){e=B("button"),t=W("Aufgabe zur\xFCcksetzen"),this.h()},l(f){e=V(f,"BUTTON",{class:!0});var r=C(e);t=Y(r,"Aufgabe zur\xFCcksetzen"),r.forEach(h),this.h()},h(){z(e,"class","bg-luh-acc-lgt dark:bg-luh-acc-drk hover:bg-luh-acc-hgl-lgt hover:dark:bg-luh-acc-hgl-drk p-2 rounded-2xl")},m(f,r){A(f,e,r),P(e,t),l||(i=le(e,"click",n[9]),l=!0)},p:ee,d(f){f&&h(e),l=!1,i()}}}function _l(n){let e;return{c(){e=B("div")},l(t){e=V(t,"DIV",{}),C(e).forEach(h)},m(t,l){A(t,e,l)},p:ee,d(t){t&&h(e)}}}function ml(n){let e,t,l,i,f,r,s,a,u,o,c,m,p,_,b,d;function T(k,M){if(k[0]==="success")return fl;if(k[0]==="fail")return sl;if(k[0]==="warning"||k[0]==="inprogress")return il;if(k[0]==="notstarted")return al}let I=T(n),w=I&&I(n);r=new Ee({props:{value:"Multiple Choice Aufgabe"}}),o=new be({props:{data:n[1].questionText}});let g=n[4],D=[];for(let k=0;k<g.length;k+=1)D[k]=$e(Ye(n,g,k));const N=k=>E(D[k],1,1,()=>{D[k]=null});p=new Ne({props:{query:"(min-width: 768px)",$$slots:{default:[ul,({matches:k})=>({17:k}),({matches:k})=>k?131072:0]},$$scope:{ctx:n}}});function O(k,M){if(k[0]!=="success"&&k[0]!=="fail")return cl;if(k[0]==="fail")return ol;if(k[0]==="success")return dl}let L=O(n),Q=L&&L(n);return{c(){e=B("div"),t=B("div"),l=B("h3"),w&&w.c(),i=X(),f=B("div"),H(r.$$.fragment),a=X(),u=B("div"),H(o.$$.fragment),c=X();for(let k=0;k<D.length;k+=1)D[k].c();m=X(),H(p.$$.fragment),_=X(),b=B("div"),Q&&Q.c(),this.h()},l(k){e=V(k,"DIV",{class:!0});var M=C(e);t=V(M,"DIV",{class:!0});var x=C(t);l=V(x,"H3",{class:!0});var te=C(l);w&&w.l(te),te.forEach(h),i=$(x),f=V(x,"DIV",{class:!0});var R=C(f);Z(r.$$.fragment,R),R.forEach(h),x.forEach(h),a=$(M),u=V(M,"DIV",{class:!0});var q=C(u);Z(o.$$.fragment,q),q.forEach(h),c=$(M);for(let oe=0;oe<D.length;oe+=1)D[oe].l(M);m=$(M),Z(p.$$.fragment,M),_=$(M),b=V(M,"DIV",{class:!0});var de=C(b);Q&&Q.l(de),de.forEach(h),M.forEach(h),this.h()},h(){z(l,"class","w-full text-center"),z(f,"class","z-10 absolute h-12 flex flex-col justify-center pr-2 top-0 right-0"),z(t,"class",s="relative px-4 py-2 h-12 rounded-t-2xl md:col-span-2 flex flex-col justify-center border-b-2 border-luh-bdr-lgt dark:border-luh-bdr-drk"+(n[0]==="success"?" bg-sec-suc-lgt dark:bg-sec-suc-drk":"")+(n[0]==="fail"?" bg-sec-fal-lgt dark:bg-sec-fal-drk":"")),z(u,"class","px-4 py-2 md:col-span-2 flex flex-col"),z(b,"class","border-t-2 border-luh-bdr-lgt dark:border-luh-bdr-drk flex flex-row justify-between px-4 py-2 md:col-span-2"),z(e,"class","grid grid-cols-1 md:grid-cols-2")},m(k,M){A(k,e,M),P(e,t),P(t,l),w&&w.m(l,null),P(t,i),P(t,f),G(r,f,null),P(e,a),P(e,u),G(o,u,null),P(e,c);for(let x=0;x<D.length;x+=1)D[x].m(e,null);P(e,m),G(p,e,null),P(e,_),P(e,b),Q&&Q.m(b,null),d=!0},p(k,M){I!==(I=T(k))&&(w&&w.d(1),w=I&&I(k),w&&(w.c(),w.m(l,null))),(!d||M&1&&s!==(s="relative px-4 py-2 h-12 rounded-t-2xl md:col-span-2 flex flex-col justify-center border-b-2 border-luh-bdr-lgt dark:border-luh-bdr-drk"+(k[0]==="success"?" bg-sec-suc-lgt dark:bg-sec-suc-drk":"")+(k[0]==="fail"?" bg-sec-fal-lgt dark:bg-sec-fal-drk":"")))&&z(t,"class",s);const x={};if(M&2&&(x.data=k[1].questionText),o.$set(x),M&61){g=k[4];let R;for(R=0;R<g.length;R+=1){const q=Ye(k,g,R);D[R]?(D[R].p(q,M),v(D[R],1)):(D[R]=$e(q),D[R].c(),v(D[R],1),D[R].m(e,m))}for(fe(),R=g.length;R<D.length;R+=1)N(R);ue()}const te={};M&2228224&&(te.$$scope={dirty:M,ctx:k}),p.$set(te),L===(L=O(k))&&Q?Q.p(k,M):(Q&&Q.d(1),Q=L&&L(k),Q&&(Q.c(),Q.m(b,null)))},i(k){if(!d){v(r.$$.fragment,k),v(o.$$.fragment,k);for(let M=0;M<g.length;M+=1)v(D[M]);v(p.$$.fragment,k),d=!0}},o(k){E(r.$$.fragment,k),E(o.$$.fragment,k),D=D.filter(Boolean);for(let M=0;M<D.length;M+=1)E(D[M]);E(p.$$.fragment,k),d=!1},d(k){k&&h(e),w&&w.d(),K(r),K(o),ke(D,k),K(p),Q&&Q.d()}}}function gl(n){let e,t;return e=new Ie({props:{padding:{type:"global",value:0},$$slots:{default:[ml]},$$scope:{ctx:n}}}),{c(){H(e.$$.fragment)},l(l){Z(e.$$.fragment,l)},m(l,i){G(e,l,i),t=!0},p(l,[i]){const f={};i&2097167&&(f.$$scope={dirty:i,ctx:l}),e.$set(f)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){E(e.$$.fragment,l),t=!1},d(l){K(e,l)}}}function bl(n,e,t){let{data:l}=e,{taskState:i}=e,{taskFeedback:f}=e,{version:r}=e,s=Array(l.correctAnswers.length+l.incorrectAnswers.length).fill(!1),a=!1,u,o=l.incorrectAnswers.concat(l.correctAnswers).map(w=>({data:w,key:Math.random()})).sort((w,g)=>w.key-g.key).map(({data:w})=>w);const c=(w,g)=>a?o[w].correct&&s[w]?" bg-sec-suc-lgt dark:bg-sec-suc-drk":s[w]||o[w].correct?" bg-sec-fal-lgt dark:bg-sec-fal-drk":"":" hover:bg-luh-pri-hgl-lgt hover:dark:bg-luh-pri-hgl-drk transition-colors duration-300",m=()=>{const w={correct:s.map((g,D)=>g===o[D].correct).reduce((g,D)=>g&&D,!0),type:"multipleChoice",selectedIds:s.map((g,D)=>({val:g,ind:D})).filter(({val:g})=>g).map(({ind:g})=>o[g].id),correctIds:o.filter(({correct:g})=>g).map(({id:g})=>g),timestamp:Math.floor(Date.now()/1e3),duration:Math.floor(Date.now()/1e3)-u,forVersion:r};t(3,a=!0),t(0,i=w.correct?"success":"fail"),b(w)},p=ve(),_=()=>{p("next")},b=w=>{t(0,i=w.correct?"success":"fail"),p("finish",w)},d=()=>{p("skip")},T=async()=>{p("reset")};pe(()=>{u=Math.floor(Date.now()/1e3)});function I(w){s[w]=this.checked,t(2,s)}return n.$$set=w=>{"data"in w&&t(1,l=w.data),"taskState"in w&&t(0,i=w.taskState),"taskFeedback"in w&&t(10,f=w.taskFeedback),"version"in w&&t(11,r=w.version)},[i,l,s,a,o,c,m,_,d,T,f,r,I]}class kl extends ie{constructor(e){super(),se(this,e,bl,gl,re,{data:1,taskState:0,taskFeedback:10,version:11})}}function et(n){let e,t,l,i;const f=[Sl,Tl,pl],r=[];function s(a,u){return a[0].task.type==="singleChoice"?0:a[0].task.type==="dragAndDrop"?1:a[0].task.type==="multipleChoice"?2:-1}return~(e=s(n))&&(t=r[e]=f[e](n)),{c(){t&&t.c(),l=ne()},l(a){t&&t.l(a),l=ne()},m(a,u){~e&&r[e].m(a,u),A(a,l,u),i=!0},p(a,u){let o=e;e=s(a),e===o?~e&&r[e].p(a,u):(t&&(fe(),E(r[o],1,1,()=>{r[o]=null}),ue()),~e?(t=r[e],t?t.p(a,u):(t=r[e]=f[e](a),t.c()),v(t,1),t.m(l.parentNode,l)):t=null)},i(a){i||(v(t),i=!0)},o(a){E(t),i=!1},d(a){~e&&r[e].d(a),a&&h(l)}}}function pl(n){var o;let e,t,l,i,f;function r(c){n[16](c)}function s(c){n[17](c)}function a(c){n[18](c)}let u={taskFeedback:((o=n[2])==null?void 0:o.type)==="multipleChoice"?n[2]:void 0};return n[0].task!==void 0&&(u.data=n[0].task),n[0].status!==void 0&&(u.taskState=n[0].status),n[3]!==void 0&&(u.version=n[3]),e=new kl({props:u}),F.push(()=>y(e,"data",r)),F.push(()=>y(e,"taskState",s)),F.push(()=>y(e,"version",a)),e.$on("skip",n[4]),e.$on("next",n[4]),e.$on("finish",n[8]),e.$on("reset",n[9]),{c(){H(e.$$.fragment)},l(c){Z(e.$$.fragment,c)},m(c,m){G(e,c,m),f=!0},p(c,m){var _;const p={};m&4&&(p.taskFeedback=((_=c[2])==null?void 0:_.type)==="multipleChoice"?c[2]:void 0),!t&&m&1&&(t=!0,p.data=c[0].task,j(()=>t=!1)),!l&&m&1&&(l=!0,p.taskState=c[0].status,j(()=>l=!1)),!i&&m&8&&(i=!0,p.version=c[3],j(()=>i=!1)),e.$set(p)},i(c){f||(v(e.$$.fragment,c),f=!0)},o(c){E(e.$$.fragment,c),f=!1},d(c){K(e,c)}}}function Tl(n){var o;let e,t,l,i,f;function r(c){n[13](c)}function s(c){n[14](c)}function a(c){n[15](c)}let u={taskFeedback:((o=n[2])==null?void 0:o.type)==="dragAndDrop"?n[2]:void 0};return n[0].task!==void 0&&(u.data=n[0].task),n[0].status!==void 0&&(u.taskState=n[0].status),n[3]!==void 0&&(u.version=n[3]),e=new Gn({props:u}),F.push(()=>y(e,"data",r)),F.push(()=>y(e,"taskState",s)),F.push(()=>y(e,"version",a)),e.$on("skip",n[4]),e.$on("next",n[4]),e.$on("finish",n[6]),e.$on("reset",n[9]),{c(){H(e.$$.fragment)},l(c){Z(e.$$.fragment,c)},m(c,m){G(e,c,m),f=!0},p(c,m){var _;const p={};m&4&&(p.taskFeedback=((_=c[2])==null?void 0:_.type)==="dragAndDrop"?c[2]:void 0),!t&&m&1&&(t=!0,p.data=c[0].task,j(()=>t=!1)),!l&&m&1&&(l=!0,p.taskState=c[0].status,j(()=>l=!1)),!i&&m&8&&(i=!0,p.version=c[3],j(()=>i=!1)),e.$set(p)},i(c){f||(v(e.$$.fragment,c),f=!0)},o(c){E(e.$$.fragment,c),f=!1},d(c){K(e,c)}}}function Sl(n){var o;let e,t,l,i,f;function r(c){n[10](c)}function s(c){n[11](c)}function a(c){n[12](c)}let u={taskFeedback:((o=n[2])==null?void 0:o.type)==="singleChoice"?n[2]:void 0};return n[0].task!==void 0&&(u.data=n[0].task),n[0].status!==void 0&&(u.taskState=n[0].status),n[3]!==void 0&&(u.version=n[3]),e=new rl({props:u}),F.push(()=>y(e,"data",r)),F.push(()=>y(e,"taskState",s)),F.push(()=>y(e,"version",a)),e.$on("finish",n[7]),e.$on("next",n[4]),e.$on("skip",n[4]),e.$on("previous",n[5]),e.$on("reset",n[9]),{c(){H(e.$$.fragment)},l(c){Z(e.$$.fragment,c)},m(c,m){G(e,c,m),f=!0},p(c,m){var _;const p={};m&4&&(p.taskFeedback=((_=c[2])==null?void 0:_.type)==="singleChoice"?c[2]:void 0),!t&&m&1&&(t=!0,p.data=c[0].task,j(()=>t=!1)),!l&&m&1&&(l=!0,p.taskState=c[0].status,j(()=>l=!1)),!i&&m&8&&(i=!0,p.version=c[3],j(()=>i=!1)),e.$set(p)},i(c){f||(v(e.$$.fragment,c),f=!0)},o(c){E(e.$$.fragment,c),f=!1},d(c){K(e,c)}}}function vl(n){let e,t,l=n[1]&&et(n);return{c(){l&&l.c(),e=ne()},l(i){l&&l.l(i),e=ne()},m(i,f){l&&l.m(i,f),A(i,e,f),t=!0},p(i,[f]){i[1]?l?(l.p(i,f),f&2&&v(l,1)):(l=et(i),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(fe(),E(l,1,1,()=>{l=null}),ue())},i(i){t||(v(l),t=!0)},o(i){E(l),t=!1},d(i){l&&l.d(i),i&&h(e)}}}function Il(n,e,t){const l=ve();let{data:i}=e;pe(async()=>{i.status==="notstarted"&&await a();const L=await mt(i.courseId,i.lessonId,i.id);L.type==="data"&&t(2,r=L.progress),t(3,s=await gt(i.courseId)),t(1,f=!0)});let f=!1,r,s=0;const a=async()=>{await Te(i.courseId,i.lessonId,i.id,"inprogress")},u=()=>{l("next")},o=()=>{l("prev")},c=async L=>{await Te(i.courseId,i.lessonId,i.id,L.detail.correct?"success":"fail",L.detail)},m=async L=>{await Te(i.courseId,i.lessonId,i.id,L.detail.correct?"success":"fail",L.detail)},p=async L=>{await Te(i.courseId,i.lessonId,i.id,L.detail.correct?"success":"fail",L.detail)},_=async()=>{await Te(i.courseId,i.lessonId,i.id,"inprogress"),l("reset")};function b(L){n.$$.not_equal(i.task,L)&&(i.task=L,t(0,i))}function d(L){n.$$.not_equal(i.status,L)&&(i.status=L,t(0,i))}function T(L){s=L,t(3,s)}function I(L){n.$$.not_equal(i.task,L)&&(i.task=L,t(0,i))}function w(L){n.$$.not_equal(i.status,L)&&(i.status=L,t(0,i))}function g(L){s=L,t(3,s)}function D(L){n.$$.not_equal(i.task,L)&&(i.task=L,t(0,i))}function N(L){n.$$.not_equal(i.status,L)&&(i.status=L,t(0,i))}function O(L){s=L,t(3,s)}return n.$$set=L=>{"data"in L&&t(0,i=L.data)},[i,f,r,s,u,o,c,m,p,_,b,d,T,I,w,g,D,N,O]}class wl extends ie{constructor(e){super(),se(this,e,Il,vl,re,{data:0})}}function Fl(n){let e,t,l,i;const f=[Dl,jl],r=[];function s(a,u){return a[5]?1:0}return e=s(n),t=r[e]=f[e](n),{c(){t.c(),l=ne()},l(a){t.l(a),l=ne()},m(a,u){r[e].m(a,u),A(a,l,u),i=!0},p(a,u){let o=e;e=s(a),e===o?r[e].p(a,u):(fe(),E(r[o],1,1,()=>{r[o]=null}),ue(),t=r[e],t?t.p(a,u):(t=r[e]=f[e](a),t.c()),v(t,1),t.m(l.parentNode,l))},i(a){i||(v(t),i=!0)},o(a){E(t),i=!1},d(a){r[e].d(a),a&&h(l)}}}function yl(n){let e,t;return e=new vt({props:{title:n[1].title,description:n[1].description}}),{c(){H(e.$$.fragment)},l(l){Z(e.$$.fragment,l)},m(l,i){G(e,l,i),t=!0},p(l,i){const f={};i&2&&(f.title=l[1].title),i&2&&(f.description=l[1].description),e.$set(f)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){E(e.$$.fragment,l),t=!1},d(l){K(e,l)}}}function jl(n){let e,t;return e=new lt({props:{$$slots:{title:[Al],default:[Nl]},$$scope:{ctx:n}}}),{c(){H(e.$$.fragment)},l(l){Z(e.$$.fragment,l)},m(l,i){G(e,l,i),t=!0},p(l,i){const f={};i&2052&&(f.$$scope={dirty:i,ctx:l}),e.$set(f)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){E(e.$$.fragment,l),t=!1},d(l){K(e,l)}}}function Dl(n){let e,t;return e=new lt({props:{$$slots:{title:[Ml],default:[zl]},$$scope:{ctx:n}}}),{c(){H(e.$$.fragment)},l(l){Z(e.$$.fragment,l)},m(l,i){G(e,l,i),t=!0},p(l,i){const f={};i&2072&&(f.$$scope={dirty:i,ctx:l}),e.$set(f)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){E(e.$$.fragment,l),t=!1},d(l){K(e,l)}}}function El(n){let e,t,l,i,f,r,s;return{c(){e=B("p"),t=W(`Sie sind mit den Aufgaben dieser Lektion fertig. Bitte kehren sie auf die
					Lektions\xFCbersicht zur\xFCck und schauen Sie sich dort ihren Fortschrit an.`),l=X(),i=B("div"),f=B("a"),r=W("Lektions\xFCbersicht"),this.h()},l(a){e=V(a,"P",{class:!0});var u=C(e);t=Y(u,`Sie sind mit den Aufgaben dieser Lektion fertig. Bitte kehren sie auf die
					Lektions\xFCbersicht zur\xFCck und schauen Sie sich dort ihren Fortschrit an.`),u.forEach(h),l=$(a),i=V(a,"DIV",{class:!0});var o=C(i);f=V(o,"A",{href:!0,class:!0});var c=C(f);r=Y(c,"Lektions\xFCbersicht"),c.forEach(h),o.forEach(h),this.h()},h(){z(e,"class","text-center"),z(f,"href",s=`/course/${n[2].courseId}/lesson/${n[2].id}`),z(f,"class","bg-luh-acc-lgt dark:bg-luh-acc-drk hover:bg-luh-acc-hgl-lgt hover:dark:bg-luh-acc-hgl-drk p-2 rounded-lg"),z(i,"class","flex justify-evenly")},m(a,u){A(a,e,u),P(e,t),A(a,l,u),A(a,i,u),P(i,f),P(f,r)},p(a,u){u&4&&s!==(s=`/course/${a[2].courseId}/lesson/${a[2].id}`)&&z(f,"href",s)},d(a){a&&h(e),a&&h(l),a&&h(i)}}}function Nl(n){let e,t;return e=new Ie({props:{$$slots:{default:[El]},$$scope:{ctx:n}}}),{c(){H(e.$$.fragment)},l(l){Z(e.$$.fragment,l)},m(l,i){G(e,l,i),t=!0},p(l,i){const f={};i&2052&&(f.$$scope={dirty:i,ctx:l}),e.$set(f)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){E(e.$$.fragment,l),t=!1},d(l){K(e,l)}}}function Al(n){let e,t;return{c(){e=B("h1"),t=W("Fertig"),this.h()},l(l){e=V(l,"H1",{class:!0});var i=C(e);t=Y(i,"Fertig"),i.forEach(h),this.h()},h(){z(e,"class","text-center text-2xl my-4")},m(l,i){A(l,e,i),P(e,t)},p:ee,d(l){l&&h(e)}}}function tt(n){let e,t,l;function i(r){n[9](r)}let f={};return n[3]!==void 0&&(f.data=n[3]),e=new wl({props:f}),F.push(()=>y(e,"data",i)),e.$on("reset",n[6]),e.$on("next",n[7]),{c(){H(e.$$.fragment)},l(r){Z(e.$$.fragment,r)},m(r,s){G(e,r,s),l=!0},p(r,s){const a={};!t&&s&8&&(t=!0,a.data=r[3],j(()=>t=!1)),e.$set(a)},i(r){l||(v(e.$$.fragment,r),l=!0)},o(r){E(e.$$.fragment,r),l=!1},d(r){K(e,r)}}}function zl(n){let e=n[4],t,l,i=tt(n);return{c(){i.c(),t=ne()},l(f){i.l(f),t=ne()},m(f,r){i.m(f,r),A(f,t,r),l=!0},p(f,r){r&16&&re(e,e=f[4])?(fe(),E(i,1,1,ee),ue(),i=tt(f),i.c(),v(i,1),i.m(t.parentNode,t)):i.p(f,r)},i(f){l||(v(i),l=!0)},o(f){E(i),l=!1},d(f){f&&h(t),i.d(f)}}}function Ml(n){let e,t=n[3].name+"",l;return{c(){e=B("h1"),l=W(t),this.h()},l(i){e=V(i,"H1",{class:!0});var f=C(e);l=Y(f,t),f.forEach(h),this.h()},h(){z(e,"class","text-center text-2xl my-4")},m(i,f){A(i,e,f),P(e,l)},p(i,f){f&8&&t!==(t=i[3].name+"")&&nt(l,t)},d(i){i&&h(e)}}}function Bl(n){let e,t,l,i;const f=[yl,Fl],r=[];function s(a,u){return a[1]?0:a[0]?1:-1}return~(e=s(n))&&(t=r[e]=f[e](n)),{c(){t&&t.c(),l=ne()},l(a){t&&t.l(a),l=ne()},m(a,u){~e&&r[e].m(a,u),A(a,l,u),i=!0},p(a,[u]){let o=e;e=s(a),e===o?~e&&r[e].p(a,u):(t&&(fe(),E(r[o],1,1,()=>{r[o]=null}),ue()),~e?(t=r[e],t?t.p(a,u):(t=r[e]=f[e](a),t.c()),v(t,1),t.m(l.parentNode,l)):t=null)},i(a){i||(v(t),i=!0)},o(a){E(t),i=!1},d(a){~e&&r[e].d(a),a&&h(l)}}}function Vl(n,e,t){let l;ct(n,pt,_=>t(10,l=_));let{data:i}=e,f=!1,r=null,s,a,u=0,o=!1;pe(async()=>{ht.set(`/course/${i.courseslug}/lesson/${i.lessonslug}`);const _=await bt(i.courseslug,i.lessonslug);if(_.type==="error"){t(0,f=!1),t(1,r={title:_.error.title,description:_.error.description});return}t(2,s=_.lesson);const b=l.url.searchParams.get("tid"),d=b?{type:"data",taskslug:b}:await kt(s.courseId,s.id);if(d.type==="data"){const T=await ye(s.courseId,s.id,d.taskslug);T.type==="data"?t(3,a=T.task):(t(1,r={title:T.error.title,description:T.error.description}),t(0,f=!1))}else d.type==="error"&&(t(1,r={title:d.error.title,description:d.error.description}),t(0,f=!1));_t.set([{label:"Home",href:"/"},{label:"Kurse",href:"/course"},{label:s.courseShortTitle?s.courseShortTitle:s.courseTitle,href:`/course/${s.courseId}`},{label:s.shortTitle?s.shortTitle:s.title,href:`/course/${s.courseId}/lesson/${s.id}`},{label:"Aufgaben"}]),t(0,f=!0)});const c=async()=>{const _=await ye(a.courseId,a.lessonId,a.id);_.type==="data"?t(3,a=_.task):(t(1,r={title:_.error.title,description:_.error.description}),t(0,f=!1)),t(4,u+=1)},m=async()=>{if(a.navigation.nextId){const _=await ye(a.courseId,a.lessonId,a.navigation.nextId);_.type==="data"?t(3,a=_.task):(t(1,r={title:_.error.title,description:_.error.description}),t(0,f=!1)),t(4,u+=1)}else t(5,o=!0)};function p(_){a=_,t(3,a)}return n.$$set=_=>{"data"in _&&t(8,i=_.data)},[f,r,s,a,u,o,c,m,i,p]}class Wl extends ie{constructor(e){super(),se(this,e,Vl,Bl,re,{data:8})}}export{Wl as default};
